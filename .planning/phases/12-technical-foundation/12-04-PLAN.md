---
phase: 12-technical-foundation
plan: 04
type: execute
wave: 3
depends_on: ["12-01", "12-02", "12-03"]
files_modified:
  - website/src/types/index.ts
  - website/src/lib/content.ts
  - website/src/lib/utils.ts
  - website/src/config/site.ts
  - website/.env.local
  - website/.env.example
autonomous: true

must_haves:
  truths:
    - "TypeScript types compile without errors"
    - "Content utilities format Israeli phone numbers and prices correctly"
    - "Site configuration exports siteConfig object with all required fields"
    - "Environment variable template documents required configuration"
  artifacts:
    - path: "website/src/types/index.ts"
      provides: "Shared TypeScript types"
      contains: "export"
    - path: "website/src/lib/content.ts"
      provides: "Content utilities for Hebrew formatting"
      contains: "export"
    - path: "website/src/lib/utils.ts"
      provides: "Utility functions including cn() for Tailwind"
      contains: "export function cn"
    - path: "website/src/config/site.ts"
      provides: "Site configuration"
      contains: "siteConfig"
    - path: "website/.env.example"
      provides: "Environment variable template"
      contains: "NEXT_PUBLIC"
  key_links:
    - from: "website/src/config/site.ts"
      to: "website/src/types/index.ts"
      via: "Type import"
      pattern: "import.*SiteConfig.*from.*@/types"
    - from: "website/src/lib/utils.ts"
      to: "tailwind-merge"
      via: "CSS class merging"
      pattern: "twMerge"
---

<objective>
Create project structure with types, content layer, site configuration, and environment setup.

Purpose: Establish organized codebase structure ready for Phase 13 component development.
Output: Typed project structure with utilities, configuration, and environment templates.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/12-technical-foundation/12-RESEARCH.md
@.planning/phases/12-technical-foundation/12-01-SUMMARY.md
@.planning/phases/12-technical-foundation/12-02-SUMMARY.md
@.planning/phases/12-technical-foundation/12-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create project structure and shared types</name>
  <files>
    website/src/types/index.ts
    website/src/lib/content.ts
    website/src/lib/utils.ts
    website/src/config/site.ts
  </files>
  <action>
    Create directory structure if not exists:
    ```bash
    mkdir -p website/src/types
    mkdir -p website/src/config
    ```

    Create website/src/types/index.ts:

    ```typescript
    // Shared types for Findo sales website

    export interface SiteConfig {
      name: string;
      description: string;
      url: string;
      ogImage: string;
      links: {
        whatsapp: string;
        email: string;
        phone: string;
      };
    }

    export interface NavItem {
      title: string;
      href: string;
      disabled?: boolean;
    }

    export interface Testimonial {
      id: string;
      name: string;
      business: string;
      image: string;
      quote: string;
      metric?: string;
    }

    export interface Feature {
      id: string;
      title: string;
      description: string;
      icon: string;
    }

    export interface PricingPlan {
      id: string;
      name: string;
      price: number;
      currency: string;
      period: string;
      features: string[];
      highlighted?: boolean;
    }

    // Animation variants for Motion
    export interface AnimationVariant {
      hidden: Record<string, number | string>;
      visible: Record<string, number | string>;
    }
    ```

    Create website/src/lib/utils.ts:

    ```typescript
    import { type ClassValue, clsx } from "clsx";
    import { twMerge } from "tailwind-merge";

    export function cn(...inputs: ClassValue[]) {
      return twMerge(clsx(inputs));
    }
    ```

    Install clsx and tailwind-merge:
    ```bash
    cd website
    npm install clsx tailwind-merge
    ```

    Create website/src/lib/content.ts:

    ```typescript
    // Content utilities for Findo sales website

    /**
     * Format Israeli phone number for display
     */
    export function formatPhone(phone: string): string {
      // Remove non-digits
      const digits = phone.replace(/\D/g, "");

      // Format as Israeli number: 050-123-4567
      if (digits.length === 10 && digits.startsWith("0")) {
        return `${digits.slice(0, 3)}-${digits.slice(3, 6)}-${digits.slice(6)}`;
      }

      return phone;
    }

    /**
     * Format price in NIS with Hebrew formatting
     */
    export function formatPrice(price: number): string {
      return new Intl.NumberFormat("he-IL", {
        style: "currency",
        currency: "ILS",
        minimumFractionDigits: 0,
        maximumFractionDigits: 0,
      }).format(price);
    }

    /**
     * Hebrew months for dates
     */
    export const hebrewMonths = [
      "ינואר",
      "פברואר",
      "מרץ",
      "אפריל",
      "מאי",
      "יוני",
      "יולי",
      "אוגוסט",
      "ספטמבר",
      "אוקטובר",
      "נובמבר",
      "דצמבר",
    ];

    /**
     * Format date in Hebrew
     */
    export function formatDateHebrew(date: Date): string {
      const day = date.getDate();
      const month = hebrewMonths[date.getMonth()];
      const year = date.getFullYear();
      return `${day} ב${month} ${year}`;
    }
    ```

    Create website/src/config/site.ts:

    ```typescript
    import type { SiteConfig } from "@/types";

    export const siteConfig: SiteConfig = {
      name: "Findo",
      description:
        "מערכת אוטומטית לצמיחת העסק שלך - לידים, ביקורות, ונוכחות דיגיטלית",
      url: process.env.NEXT_PUBLIC_SITE_URL || "https://findo.co.il",
      ogImage: "/og-image.png",
      links: {
        whatsapp: "https://wa.me/972501234567", // Placeholder - update with real number
        email: "hello@findo.co.il",
        phone: "050-123-4567", // Placeholder - update with real number
      },
    };

    export const navItems = [
      { title: "איך זה עובד", href: "#how-it-works" },
      { title: "מה אומרים עלינו", href: "#testimonials" },
      { title: "מחירים", href: "#pricing" },
      { title: "שאלות נפוצות", href: "#faq" },
    ];
    ```
  </action>
  <verify>
    Run `cd website && npm run build` passes.
    Files exist: src/types/index.ts, src/lib/content.ts, src/lib/utils.ts, src/config/site.ts
    TypeScript compiles without errors.
  </verify>
  <done>
    Project structure with types, utilities, and configuration created.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create environment configuration</name>
  <files>
    website/.env.local
    website/.env.example
    website/.gitignore
  </files>
  <action>
    Create website/.env.example (template for environment variables):

    ```bash
    # Site Configuration
    NEXT_PUBLIC_SITE_URL=https://findo.co.il

    # Analytics (PostHog) - to be configured in Phase 19
    # NEXT_PUBLIC_POSTHOG_KEY=phc_your_key_here
    # NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

    # Feature Flags (optional)
    # NEXT_PUBLIC_SHOW_PRICING=true
    ```

    Create website/.env.local (local development):

    ```bash
    # Site Configuration
    NEXT_PUBLIC_SITE_URL=http://localhost:3000

    # Analytics disabled for development
    # NEXT_PUBLIC_POSTHOG_KEY=
    # NEXT_PUBLIC_POSTHOG_HOST=
    ```

    Update website/.gitignore to ensure .env.local is ignored (should already be there from create-next-app):

    ```bash
    # Verify .env.local is in .gitignore
    grep -q ".env.local" website/.gitignore || echo ".env.local" >> website/.gitignore
    ```

    Verify .env files:
    - .env.example: Template committed to git for documentation
    - .env.local: Local secrets, never committed
  </action>
  <verify>
    Files exist: website/.env.local, website/.env.example
    Run `git status website/.env.local` shows untracked (not staged)
    Run `cd website && npm run dev` works with local env
  </verify>
  <done>
    Environment configuration created with example template.
  </done>
</task>

</tasks>

<verification>
All checks must pass:
1. `cd website && npm run build` completes successfully
2. Files exist: src/types/index.ts, src/lib/content.ts, src/lib/utils.ts, src/config/site.ts
3. TypeScript compiles without errors
4. Environment files exist: .env.local, .env.example
5. .env.local is gitignored
</verification>

<success_criteria>
- Project structure organized with types, utils, config
- TypeScript types compile correctly
- Content utilities work for Israeli formatting
- Environment variables configured with template
- Ready for Plan 12-05 deployment
</success_criteria>

<output>
After completion, create `.planning/phases/12-technical-foundation/12-04-SUMMARY.md`
</output>
