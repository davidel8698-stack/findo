---
phase: 12-technical-foundation
plan: 04
type: execute
wave: 3
depends_on: ["12-01", "12-02", "12-03"]
files_modified:
  - website/src/types/index.ts
  - website/src/lib/content.ts
  - website/src/config/site.ts
  - website/.env.local
  - website/.env.example
  - website/vercel.json
autonomous: false

user_setup:
  - service: vercel
    why: "Website deployment and hosting"
    env_vars: []
    dashboard_config:
      - task: "Link GitHub repository to Vercel project"
        location: "Vercel Dashboard -> New Project -> Import Git Repository"

must_haves:
  truths:
    - "Project deploys successfully to Vercel"
    - "Production URL is accessible and shows Hebrew content"
    - "Environment variables are configured for production"
    - "Project structure supports future components and content"
  artifacts:
    - path: "website/src/types/index.ts"
      provides: "Shared TypeScript types"
      contains: "export"
    - path: "website/src/lib/content.ts"
      provides: "Content utilities"
      contains: "export"
    - path: "website/src/config/site.ts"
      provides: "Site configuration"
      contains: "siteConfig"
    - path: "website/.env.example"
      provides: "Environment variable template"
      contains: "NEXT_PUBLIC"
  key_links:
    - from: "website/src/config/site.ts"
      to: "metadata"
      via: "Site configuration export"
      pattern: "export.*siteConfig"
---

<objective>
Create project structure with types, content layer, site configuration, and deploy to Vercel.

Purpose: Establish organized codebase structure and production deployment to validate the complete technical foundation.
Output: Deployed website on Vercel with organized project structure ready for Phase 13.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/12-technical-foundation/12-RESEARCH.md
@.planning/phases/12-technical-foundation/12-01-SUMMARY.md
@.planning/phases/12-technical-foundation/12-02-SUMMARY.md
@.planning/phases/12-technical-foundation/12-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create project structure and shared types</name>
  <files>
    website/src/types/index.ts
    website/src/lib/content.ts
    website/src/lib/utils.ts
    website/src/config/site.ts
  </files>
  <action>
    Create directory structure if not exists:
    ```bash
    mkdir -p website/src/types
    mkdir -p website/src/config
    ```

    Create website/src/types/index.ts:

    ```typescript
    // Shared types for Findo sales website

    export interface SiteConfig {
      name: string;
      description: string;
      url: string;
      ogImage: string;
      links: {
        whatsapp: string;
        email: string;
        phone: string;
      };
    }

    export interface NavItem {
      title: string;
      href: string;
      disabled?: boolean;
    }

    export interface Testimonial {
      id: string;
      name: string;
      business: string;
      image: string;
      quote: string;
      metric?: string;
    }

    export interface Feature {
      id: string;
      title: string;
      description: string;
      icon: string;
    }

    export interface PricingPlan {
      id: string;
      name: string;
      price: number;
      currency: string;
      period: string;
      features: string[];
      highlighted?: boolean;
    }

    // Animation variants for Motion
    export interface AnimationVariant {
      hidden: Record<string, number | string>;
      visible: Record<string, number | string>;
    }
    ```

    Create website/src/lib/utils.ts:

    ```typescript
    import { type ClassValue, clsx } from "clsx";
    import { twMerge } from "tailwind-merge";

    export function cn(...inputs: ClassValue[]) {
      return twMerge(clsx(inputs));
    }
    ```

    Install clsx and tailwind-merge:
    ```bash
    cd website
    npm install clsx tailwind-merge
    ```

    Create website/src/lib/content.ts:

    ```typescript
    // Content utilities for Findo sales website

    /**
     * Format Israeli phone number for display
     */
    export function formatPhone(phone: string): string {
      // Remove non-digits
      const digits = phone.replace(/\D/g, "");

      // Format as Israeli number: 050-123-4567
      if (digits.length === 10 && digits.startsWith("0")) {
        return `${digits.slice(0, 3)}-${digits.slice(3, 6)}-${digits.slice(6)}`;
      }

      return phone;
    }

    /**
     * Format price in NIS with Hebrew formatting
     */
    export function formatPrice(price: number): string {
      return new Intl.NumberFormat("he-IL", {
        style: "currency",
        currency: "ILS",
        minimumFractionDigits: 0,
        maximumFractionDigits: 0,
      }).format(price);
    }

    /**
     * Hebrew months for dates
     */
    export const hebrewMonths = [
      "ינואר",
      "פברואר",
      "מרץ",
      "אפריל",
      "מאי",
      "יוני",
      "יולי",
      "אוגוסט",
      "ספטמבר",
      "אוקטובר",
      "נובמבר",
      "דצמבר",
    ];

    /**
     * Format date in Hebrew
     */
    export function formatDateHebrew(date: Date): string {
      const day = date.getDate();
      const month = hebrewMonths[date.getMonth()];
      const year = date.getFullYear();
      return `${day} ב${month} ${year}`;
    }
    ```

    Create website/src/config/site.ts:

    ```typescript
    import type { SiteConfig } from "@/types";

    export const siteConfig: SiteConfig = {
      name: "Findo",
      description:
        "מערכת אוטומטית לצמיחת העסק שלך - לידים, ביקורות, ונוכחות דיגיטלית",
      url: process.env.NEXT_PUBLIC_SITE_URL || "https://findo.co.il",
      ogImage: "/og-image.png",
      links: {
        whatsapp: "https://wa.me/972501234567", // Placeholder - update with real number
        email: "hello@findo.co.il",
        phone: "050-123-4567", // Placeholder - update with real number
      },
    };

    export const navItems = [
      { title: "איך זה עובד", href: "#how-it-works" },
      { title: "מה אומרים עלינו", href: "#testimonials" },
      { title: "מחירים", href: "#pricing" },
      { title: "שאלות נפוצות", href: "#faq" },
    ];
    ```
  </action>
  <verify>
    Run `cd website && npm run build` passes.
    Files exist: src/types/index.ts, src/lib/content.ts, src/lib/utils.ts, src/config/site.ts
    TypeScript compiles without errors.
  </verify>
  <done>
    Project structure with types, utilities, and configuration created.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create environment configuration</name>
  <files>
    website/.env.local
    website/.env.example
    website/.gitignore
  </files>
  <action>
    Create website/.env.example (template for environment variables):

    ```bash
    # Site Configuration
    NEXT_PUBLIC_SITE_URL=https://findo.co.il

    # Analytics (PostHog) - to be configured in Phase 19
    # NEXT_PUBLIC_POSTHOG_KEY=phc_your_key_here
    # NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

    # Feature Flags (optional)
    # NEXT_PUBLIC_SHOW_PRICING=true
    ```

    Create website/.env.local (local development):

    ```bash
    # Site Configuration
    NEXT_PUBLIC_SITE_URL=http://localhost:3000

    # Analytics disabled for development
    # NEXT_PUBLIC_POSTHOG_KEY=
    # NEXT_PUBLIC_POSTHOG_HOST=
    ```

    Update website/.gitignore to ensure .env.local is ignored (should already be there from create-next-app):

    ```bash
    # Verify .env.local is in .gitignore
    grep -q ".env.local" website/.gitignore || echo ".env.local" >> website/.gitignore
    ```

    Verify .env files:
    - .env.example: Template committed to git for documentation
    - .env.local: Local secrets, never committed
  </action>
  <verify>
    Files exist: website/.env.local, website/.env.example
    Run `git status website/.env.local` shows untracked (not staged)
    Run `cd website && npm run dev` works with local env
  </verify>
  <done>
    Environment configuration created with example template.
  </done>
</task>

<task type="auto">
  <name>Task 3: Deploy to Vercel</name>
  <files>
    website/vercel.json
  </files>
  <action>
    Create website/vercel.json (optional configuration):

    ```json
    {
      "$schema": "https://openapi.vercel.sh/vercel.json",
      "framework": "nextjs",
      "regions": ["fra1"],
      "headers": [
        {
          "source": "/(.*)",
          "headers": [
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "X-Frame-Options",
              "value": "DENY"
            },
            {
              "key": "X-XSS-Protection",
              "value": "1; mode=block"
            }
          ]
        }
      ]
    }
    ```

    Commit all website changes:
    ```bash
    git add website/
    git commit -m "feat(website): add technical foundation for sales website

    - Next.js 15.5 with App Router and TypeScript
    - Tailwind CSS 4.0 with CSS-first configuration
    - Hebrew RTL with DirectionProvider
    - Heebo font with preload optimization
    - Motion + GSAP + Lenis animation infrastructure
    - Project structure with types and utilities

    Phase 12: Technical Foundation"
    ```

    Deploy using Vercel CLI:
    ```bash
    cd website
    npx vercel --yes
    ```

    If Vercel CLI not authenticated, it will prompt for login.

    After deployment:
    1. Note the preview URL (e.g., findo-website-xxx.vercel.app)
    2. Verify deployment shows Hebrew content correctly
    3. Test smooth scroll and font loading
  </action>
  <verify>
    Run `npx vercel --yes` completes successfully.
    Preview URL is accessible.
    Page loads with Hebrew text in Heebo font.
    RTL layout renders correctly.
    Smooth scroll works on deployed site.
  </verify>
  <done>
    Website deployed to Vercel with preview URL.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete technical foundation for Findo sales website:
    - Next.js 15.5 project with TypeScript and App Router
    - Tailwind 4.0 with CSS-first configuration and logical properties
    - Hebrew RTL layout with DirectionProvider
    - Heebo font with preload optimization (no FOUT)
    - Motion LazyMotion with tree-shaking
    - GSAP ScrollTrigger with centralized config
    - Lenis smooth scroll synchronized with GSAP
    - Project structure with types and utilities
    - Deployed to Vercel
  </what-built>
  <how-to-verify>
    1. Visit the Vercel preview URL
    2. Verify Hebrew text "פינדו" renders correctly in RTL
    3. Check that text is in Heebo font (not system font)
    4. Scroll the page - should feel smooth (Lenis effect)
    5. Check that logical property test boxes are positioned correctly:
       - "ps-8" box has extra padding on the RIGHT side
       - "pe-8" box has extra padding on the LEFT side
       - "start-0" element is at RIGHT edge
       - "end-0" element is at LEFT edge
    6. Open browser DevTools:
       - Elements tab: html has dir="rtl" and lang="he"
       - Network tab: Heebo font file is preloaded
       - Console: No JavaScript errors
    7. Test on mobile (resize browser or use device mode):
       - Page is responsive
       - No horizontal scroll
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
All checks must pass:
1. `cd website && npm run build` completes successfully
2. Website deployed to Vercel preview URL
3. Hebrew content renders in RTL with Heebo font
4. Logical properties work correctly in RTL context
5. Smooth scroll is active
6. No console errors
7. Responsive on mobile
</verification>

<success_criteria>
- Project structure organized with types, utils, config
- Environment variables configured
- Website deployed to Vercel successfully
- Human verification confirms all Phase 12 success criteria met:
  1. Next.js 15.5 project builds and deploys to Vercel successfully
  2. Hebrew RTL layout renders correctly with dir="rtl" and logical CSS properties
  3. Heebo font loads without FOUT (font-display: swap, preloaded)
  4. Motion and GSAP animation libraries configured with tree-shaking
  5. Tailwind 4.0 with logical properties (ms-, me-, ps-, pe-) works in all components
</success_criteria>

<output>
After completion, create `.planning/phases/12-technical-foundation/12-04-SUMMARY.md`
</output>
