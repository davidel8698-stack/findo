---
phase: 13-design-system
plan: 04
type: execute
wave: 2
depends_on: ["13-01"]
files_modified:
  - website/components/atoms/Logo.tsx
  - website/components/atoms/Icon.tsx
  - website/components/atoms/index.ts
  - website/components/molecules/CTAGroup.tsx
  - website/components/molecules/StatItem.tsx
  - website/components/molecules/NavLink.tsx
  - website/components/molecules/FormField.tsx
  - website/components/molecules/index.ts
autonomous: true

must_haves:
  truths:
    - "Logo component renders Findo branding"
    - "Icon wrapper provides consistent sizing from lucide-react"
    - "CTAGroup renders primary and secondary CTA buttons"
    - "StatItem displays metric with label for social proof"
    - "NavLink handles active state for navigation"
    - "FormField composes label, input, and error message"
  artifacts:
    - path: "website/components/atoms/Logo.tsx"
      provides: "Findo logo component"
      contains: "Logo"
    - path: "website/components/atoms/Icon.tsx"
      provides: "Icon wrapper with size presets"
      contains: "iconSizes"
    - path: "website/components/molecules/CTAGroup.tsx"
      provides: "Primary + secondary CTA pair"
      contains: "CTAGroup"
    - path: "website/components/molecules/StatItem.tsx"
      provides: "Metric display component"
      contains: "StatItem"
    - path: "website/components/molecules/FormField.tsx"
      provides: "Accessible form field composition"
      contains: "FormField"
  key_links:
    - from: "website/components/molecules/CTAGroup.tsx"
      to: "website/components/ui/button.tsx"
      via: "Button import"
      pattern: "from \"@/components/ui/button\""
    - from: "website/components/molecules/FormField.tsx"
      to: "website/components/ui/input.tsx"
      via: "Input import"
      pattern: "from \"@/components/ui/input\""
    - from: "website/components/atoms/Icon.tsx"
      to: "lucide-react"
      via: "LucideIcon type"
      pattern: "from \"lucide-react\""
---

<objective>
Create custom atomic components (Logo, Icon) and molecule components (CTAGroup, StatItem, NavLink, FormField) that compose shadcn/ui primitives.

Purpose: Build the composed components needed for Phase 14-18 sections - CTAs, metrics display, navigation, and forms.
Output: Atoms (Logo, Icon) and molecules (CTAGroup, StatItem, NavLink, FormField) ready for page sections.
</objective>

<execution_context>
@C:\Users\דודאלמועלם\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\דודאלמועלם\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/13-design-system/13-RESEARCH.md
@.planning/phases/13-design-system/13-CONTEXT.md
@website/config/site.ts
@website/types/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create atomic components (Logo, Icon)</name>
  <files>website/components/atoms/Logo.tsx, website/components/atoms/Icon.tsx, website/components/atoms/index.ts</files>
  <action>
Create directory website/components/atoms/ if needed.

Create website/components/atoms/Logo.tsx:
```typescript
import { cn } from "@/lib/utils";
import { siteConfig } from "@/config/site";

interface LogoProps {
  className?: string;
  /** Show text alongside icon */
  showText?: boolean;
  /** Size variant */
  size?: "sm" | "md" | "lg";
}

const sizeClasses = {
  sm: "h-6 text-lg",
  md: "h-8 text-xl",
  lg: "h-10 text-2xl",
};

export function Logo({
  className,
  showText = true,
  size = "md"
}: LogoProps) {
  return (
    <div className={cn("flex items-center gap-2", className)}>
      {/* Logo icon - placeholder until brand assets ready */}
      <div
        className={cn(
          "rounded-lg bg-primary flex items-center justify-center aspect-square",
          sizeClasses[size]
        )}
        aria-hidden="true"
      >
        <span className="text-primary-foreground font-bold">F</span>
      </div>
      {showText && (
        <span className={cn(
          "font-bold text-foreground",
          size === "sm" && "text-lg",
          size === "md" && "text-xl",
          size === "lg" && "text-2xl",
        )}>
          {siteConfig.name}
        </span>
      )}
    </div>
  );
}
```

Create website/components/atoms/Icon.tsx:
```typescript
import { cn } from "@/lib/utils";
import { type LucideIcon, type LucideProps } from "lucide-react";

// Standard icon sizes - all at least 24px for touch accessibility
export const iconSizes = {
  sm: "h-4 w-4",   // 16px - inline with text only
  md: "h-5 w-5",   // 20px - default
  lg: "h-6 w-6",   // 24px - prominent
  xl: "h-8 w-8",   // 32px - hero/feature
};

interface IconProps extends Omit<LucideProps, "ref"> {
  icon: LucideIcon;
  size?: keyof typeof iconSizes;
  /** RTL-flip icons that indicate direction (arrows, chevrons) */
  rtlFlip?: boolean;
}

export function Icon({
  icon: LucideIcon,
  size = "md",
  rtlFlip = false,
  className,
  ...props
}: IconProps) {
  return (
    <LucideIcon
      className={cn(
        iconSizes[size],
        rtlFlip && "rtl:rotate-180",
        className
      )}
      aria-hidden="true"
      {...props}
    />
  );
}
```

Create website/components/atoms/index.ts:
```typescript
export { Logo } from "./Logo";
export { Icon, iconSizes } from "./Icon";
```
  </action>
  <verify>
- `ls website/components/atoms/` shows Logo.tsx, Icon.tsx, index.ts
- `grep "siteConfig" website/components/atoms/Logo.tsx` shows config import
- `grep "LucideIcon" website/components/atoms/Icon.tsx` shows lucide type
- `grep "rtl:rotate-180" website/components/atoms/Icon.tsx` shows RTL flip
- `pnpm run build` in website/ succeeds
  </verify>
  <done>
- Logo component with size variants and text toggle
- Icon wrapper with size presets and RTL flip support
- Barrel export in atoms/index.ts
- Build passes
  </done>
</task>

<task type="auto">
  <name>Task 2: Create molecule components (CTAGroup, StatItem, NavLink, FormField)</name>
  <files>website/components/molecules/CTAGroup.tsx, website/components/molecules/StatItem.tsx, website/components/molecules/NavLink.tsx, website/components/molecules/FormField.tsx, website/components/molecules/index.ts</files>
  <action>
Create directory website/components/molecules/ if needed.

Create website/components/molecules/CTAGroup.tsx:
```typescript
import { cn } from "@/lib/utils";
import { Button } from "@/components/ui/button";
import { Icon } from "@/components/atoms";
import { ArrowLeft, type LucideIcon } from "lucide-react";

interface CTAGroupProps {
  primaryText: string;
  primaryHref?: string;
  primaryIcon?: LucideIcon;
  primaryLoading?: boolean;
  secondaryText?: string;
  secondaryHref?: string;
  onPrimaryClick?: () => void;
  onSecondaryClick?: () => void;
  className?: string;
  /** Stack vertically on mobile */
  stackOnMobile?: boolean;
}

export function CTAGroup({
  primaryText,
  primaryHref,
  primaryIcon,
  primaryLoading = false,
  secondaryText,
  secondaryHref,
  onPrimaryClick,
  onSecondaryClick,
  className,
  stackOnMobile = true,
}: CTAGroupProps) {
  const PrimaryButton = primaryHref ? "a" : "button";
  const SecondaryButton = secondaryHref ? "a" : "button";

  return (
    <div
      className={cn(
        "flex gap-4",
        stackOnMobile ? "flex-col sm:flex-row" : "flex-row",
        className
      )}
    >
      <Button
        asChild={!!primaryHref}
        onClick={onPrimaryClick}
        loading={primaryLoading}
        size="lg"
        className="w-full sm:w-auto"
      >
        {primaryHref ? (
          <a href={primaryHref}>
            {primaryText}
            {primaryIcon && <Icon icon={primaryIcon} rtlFlip className="ms-2" />}
          </a>
        ) : (
          <>
            {primaryText}
            {primaryIcon && <Icon icon={primaryIcon} rtlFlip className="ms-2" />}
          </>
        )}
      </Button>

      {secondaryText && (
        <Button
          asChild={!!secondaryHref}
          onClick={onSecondaryClick}
          variant="outline"
          size="lg"
          className="w-full sm:w-auto"
        >
          {secondaryHref ? (
            <a href={secondaryHref}>{secondaryText}</a>
          ) : (
            secondaryText
          )}
        </Button>
      )}
    </div>
  );
}
```

Create website/components/molecules/StatItem.tsx:
```typescript
import { cn } from "@/lib/utils";
import { Icon } from "@/components/atoms";
import { type LucideIcon } from "lucide-react";

interface StatItemProps {
  value: string | number;
  label: string;
  icon?: LucideIcon;
  className?: string;
  /** Highlight this stat */
  featured?: boolean;
}

export function StatItem({
  value,
  label,
  icon,
  className,
  featured = false,
}: StatItemProps) {
  return (
    <div
      className={cn(
        "flex flex-col items-center text-center gap-1",
        featured && "scale-110",
        className
      )}
    >
      {icon && (
        <Icon
          icon={icon}
          size="lg"
          className={cn(
            "text-muted-foreground mb-1",
            featured && "text-primary"
          )}
        />
      )}
      <span className={cn(
        "font-bold",
        featured ? "text-4xl text-primary" : "text-3xl text-foreground"
      )}>
        {value}
      </span>
      <span className="text-sm text-muted-foreground">
        {label}
      </span>
    </div>
  );
}
```

Create website/components/molecules/NavLink.tsx:
```typescript
"use client";

import { cn } from "@/lib/utils";
import Link from "next/link";
import { usePathname } from "next/navigation";
import type { NavItem } from "@/types";

interface NavLinkProps extends NavItem {
  className?: string;
  onClick?: () => void;
}

export function NavLink({
  href,
  label,
  disabled,
  className,
  onClick,
}: NavLinkProps) {
  const pathname = usePathname();
  const isActive = pathname === href || (href !== "/" && pathname.startsWith(href));

  if (disabled) {
    return (
      <span
        className={cn(
          "text-muted-foreground cursor-not-allowed opacity-50",
          className
        )}
      >
        {label}
      </span>
    );
  }

  return (
    <Link
      href={href}
      onClick={onClick}
      className={cn(
        "text-foreground hover:text-primary transition-colors",
        "focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-sm",
        isActive && "text-primary font-medium",
        className
      )}
    >
      {label}
    </Link>
  );
}
```

Create website/components/molecules/FormField.tsx:
```typescript
"use client";

import { forwardRef, useId } from "react";
import { cn } from "@/lib/utils";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";

interface FormFieldProps extends React.InputHTMLAttributes<HTMLInputElement> {
  label: string;
  error?: string;
  description?: string;
  /** Hide label visually but keep for screen readers */
  labelHidden?: boolean;
}

export const FormField = forwardRef<HTMLInputElement, FormFieldProps>(
  ({ label, error, description, labelHidden, className, id: propId, ...props }, ref) => {
    const generatedId = useId();
    const id = propId || generatedId;
    const errorId = `${id}-error`;
    const descriptionId = `${id}-description`;

    return (
      <div className={cn("space-y-2", className)}>
        <Label
          htmlFor={id}
          className={cn(labelHidden && "sr-only")}
        >
          {label}
        </Label>

        <Input
          ref={ref}
          id={id}
          aria-invalid={!!error}
          aria-describedby={cn(
            error && errorId,
            description && descriptionId,
          )}
          className={cn(error && "border-destructive")}
          {...props}
        />

        {description && !error && (
          <p id={descriptionId} className="text-sm text-muted-foreground">
            {description}
          </p>
        )}

        {error && (
          <p id={errorId} className="text-sm text-destructive" role="alert">
            {error}
          </p>
        )}
      </div>
    );
  }
);

FormField.displayName = "FormField";
```

Create website/components/molecules/index.ts:
```typescript
export { CTAGroup } from "./CTAGroup";
export { StatItem } from "./StatItem";
export { NavLink } from "./NavLink";
export { FormField } from "./FormField";
```
  </action>
  <verify>
- `ls website/components/molecules/` shows all 4 components + index.ts
- `grep "Button" website/components/molecules/CTAGroup.tsx` shows ui/button import
- `grep "aria-invalid" website/components/molecules/FormField.tsx` shows accessibility
- `grep "usePathname" website/components/molecules/NavLink.tsx` shows active detection
- `pnpm run build` in website/ succeeds
  </verify>
  <done>
- CTAGroup with primary/secondary buttons and loading state
- StatItem for metric display with optional icon
- NavLink with active state detection
- FormField with accessible label, error, description
- All molecules compose atomic components and shadcn/ui
- Barrel export in molecules/index.ts
- Build passes
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `cd website && pnpm run build` - must succeed
2. atoms/ has Logo.tsx, Icon.tsx, index.ts
3. molecules/ has CTAGroup.tsx, StatItem.tsx, NavLink.tsx, FormField.tsx, index.ts
4. CTAGroup uses Button from ui/
5. FormField uses Input, Label from ui/
6. All components have proper accessibility attributes
</verification>

<success_criteria>
- Logo component renders with size variants
- Icon wrapper handles lucide icons with RTL flip
- CTAGroup composes primary + secondary CTAs
- StatItem displays metrics for social proof sections
- NavLink handles active state detection
- FormField provides accessible form input composition
- All molecules import from atoms and ui/ components
- Build passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/13-design-system/13-04-SUMMARY.md`
</output>
