---
phase: 14-hero-first-impression
plan: 04
type: execute
wave: 3
depends_on: ["14-03"]
files_modified:
  - website/app/layout.tsx
  - website/components/sections/hero/Hero.tsx
  - website/components/sections/hero/ActivityFeed.tsx
autonomous: false

must_haves:
  truths:
    - "LCP under 2.5 seconds on mobile network"
    - "Hero content server-renders (headline, CTA visible before JS)"
    - "Animation does not block initial paint"
    - "No layout shift when animation starts"
  artifacts:
    - path: "website/app/layout.tsx"
      provides: "Preload hints for hero assets"
    - path: "website/components/sections/hero/Hero.tsx"
      provides: "LCP-optimized hero structure"
    - path: "website/components/sections/hero/ActivityFeed.tsx"
      provides: "Animation that doesn't block paint"
  key_links:
    - from: "website/app/layout.tsx"
      to: "hero images"
      via: "link preload"
      pattern: "rel=\"preload\""
---

<objective>
Optimize hero section for LCP performance and verify the complete above-fold experience meets requirements.

Purpose: Ensure the hero animation doesn't degrade Core Web Vitals. LCP must stay under 2.5 seconds despite the GSAP animation. Hero content must be visible before JavaScript executes.

Output: Performance-optimized hero section verified with Lighthouse and human testing.
</objective>

<execution_context>
@C:\Users\דודאלמועלם\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\דודאלמועלם\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/14-hero-first-impression/14-CONTEXT.md
@.planning/phases/14-hero-first-impression/14-RESEARCH.md

# From Plan 03
# @website/components/sections/hero/Hero.tsx
# @website/app/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Optimize hero for LCP - prevent animation from blocking render</name>
  <files>
    website/components/sections/hero/ActivityFeed.tsx
    website/components/sections/hero/Hero.tsx
  </files>
  <action>
Ensure hero content paints before animation:

1. In ActivityFeed.tsx:
   - Cards should have initial styles that don't cause layout shift
   - Set initial card styles via CSS, not GSAP .set():
     ```tsx
     // Cards start visible but will animate from below
     <div className="activity-card opacity-0">
     ```
   - GSAP fromTo or from handles the initial state

2. In Hero.tsx:
   - Ensure HeroContent (headline, CTA) renders OUTSIDE any client-only boundaries
   - HeroContent should be server-renderable text (no hooks)
   - If Hero needs "use client", ensure headline/CTA can still SSR

3. GPU acceleration hints:
   - Add will-change-transform to animated cards:
     ```tsx
     className="activity-card opacity-0 will-change-transform"
     ```
   - Remove will-change after animation completes (GSAP onComplete)

4. Verify LCP element:
   - LCP should be the headline text (h1), NOT the animation container
   - Headline must render in initial HTML response
  </action>
  <verify>
`cd website && npm run build` succeeds
View page source - headline text present in HTML
  </verify>
  <done>
Hero content server-renders with headline visible in initial HTML. Animation uses GPU-accelerated properties and doesn't block paint.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add preload hints and verify no hero images block LCP</name>
  <files>
    website/app/layout.tsx
  </files>
  <action>
Check and optimize any hero assets:

1. Review current layout.tsx for any existing preload hints

2. If hero has images (check Hero.tsx):
   - Add preload for any hero background image:
     ```tsx
     <link
       rel="preload"
       as="image"
       href="/hero-image.webp"
       fetchPriority="high"
     />
     ```
   - Ensure hero images use fetchPriority="high" and loading="eager"

3. If hero is pure CSS/text (no images):
   - No preload needed
   - Document this as a performance win

4. Font preload verification:
   - Heebo font should already be preloaded from Phase 12
   - Verify preload link exists for the Hebrew font

5. Add comment documenting LCP strategy:
   ```tsx
   {/* LCP Strategy: Headline text is LCP element.
       Activity feed animation runs after paint.
       No images in hero - pure CSS phone mockup. */}
   ```
  </action>
  <verify>
`cd website && npm run build` succeeds
Check layout.tsx has font preload
No render-blocking resources for hero
  </verify>
  <done>
Layout includes necessary preload hints. Hero uses no images - pure CSS mockup optimizes LCP. Font preload verified.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Verify complete hero experience</name>
  <what-built>
Complete hero section with:
- Problem-focused Hebrew headline under 8 words
- Subheadline explaining the mechanism
- Animated activity feed inside phone mockup (GSAP timeline)
- Primary CTA with value-focused text
- Trust signal with specific customer count
- Mobile sticky CTA bar
- RTL-native layout
- LCP-optimized structure
  </what-built>
  <how-to-verify>
1. Start dev server: `cd website && npm run dev`
2. Open http://localhost:3000 in browser

**5-Second Test:**
- [ ] Within 5 seconds, can you answer: What is Findo?
- [ ] Within 5 seconds, can you answer: What can you do here?
- [ ] Within 5 seconds, can you answer: Is this for me?

**Visual Verification:**
- [ ] Headline is under 8 Hebrew words
- [ ] Headline addresses pain/problem (not features)
- [ ] Activity feed shows animated cards appearing in sequence
- [ ] Animation is bouncy/playful (not stiff)
- [ ] Animation plays once and holds (doesn't loop)
- [ ] Trust signal visible below CTA ("573 עסקים...")
- [ ] RTL layout feels native (content right, visual left on desktop)

**Mobile Verification (resize to mobile or use DevTools):**
- [ ] Hero adapts to mobile viewport
- [ ] Phone mockup centered on mobile
- [ ] Scroll down - sticky CTA bar appears
- [ ] CTA bar has 48px touch target
- [ ] Sticky bar doesn't cover content

**Performance:**
- [ ] Run Lighthouse (Performance tab) - LCP should be under 2.5s
- [ ] Page feels fast - no jank during animation
- [ ] Headline visible before animation starts
  </how-to-verify>
  <resume-signal>
Type "approved" if all checks pass.
If issues found, describe what needs fixing (e.g., "animation too slow", "headline too long", "RTL layout broken").
  </resume-signal>
</task>

</tasks>

<verification>
After all tasks:
1. Lighthouse Performance score and LCP measurement
2. Human verification of 5-second test
3. Visual verification of animation and layout
4. Mobile verification of sticky CTA
</verification>

<success_criteria>
- LCP under 2.5 seconds on mobile simulation
- Headline visible in initial HTML (view source)
- Animation doesn't cause layout shift (CLS = 0 for hero)
- 5-second test passes: visitor knows what Findo is, what to do, who it's for
- All Phase 14 requirements satisfied:
  - 5SEC-01: Headline under 8 words, core outcome
  - 5SEC-02: Subheadline explains mechanism
  - 5SEC-03: Hero visual animated
  - 5SEC-04: CTA visible without scrolling
  - 5SEC-05: Trust signal above fold
  - 5SEC-06: Zero visual noise
  - 5SEC-07: RTL feels native
  - ACTION-01 (partial): CTA above fold
  - ACTION-02: Value-focused CTA text
</success_criteria>

<output>
After completion, create `.planning/phases/14-hero-first-impression/14-04-SUMMARY.md`
</output>
