---
phase: 15-social-proof-trust
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - website/components/sections/social-proof/VideoTestimonial.tsx
  - website/components/sections/social-proof/SocialProofCounters.tsx
autonomous: true

must_haves:
  truths:
    - "Video plays automatically (muted) when scrolled into view"
    - "Video pauses when scrolled out of view"
    - "Video shows burned-in Hebrew subtitles (no toggle)"
    - "Counters animate from 0 to target when visible"
    - "Counter numbers use Hebrew locale formatting"
  artifacts:
    - path: "website/components/sections/social-proof/VideoTestimonial.tsx"
      provides: "Autoplay video with viewport detection"
      exports: ["VideoTestimonial"]
    - path: "website/components/sections/social-proof/SocialProofCounters.tsx"
      provides: "Animated metrics counters"
      exports: ["SocialProofCounters"]
  key_links:
    - from: "VideoTestimonial.tsx"
      to: "motion/react useInView"
      via: "viewport detection for autoplay"
      pattern: "useInView"
    - from: "SocialProofCounters.tsx"
      to: "motion/react useSpring"
      via: "spring-animated number counting"
      pattern: "useSpring"
---

<objective>
Create video testimonial with autoplay behavior and animated social proof counters that satisfy PROOF-04, PROOF-05, and PROOF-06 requirements.

Purpose: Video testimonials feel more authentic than text. Animated counters draw attention to impressive metrics.
Output: VideoTestimonial and SocialProofCounters ready for homepage integration.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/15-social-proof-trust/15-RESEARCH.md
@website/lib/animation.ts
@website/components/motion/ScrollReveal.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create VideoTestimonial with autoplay</name>
  <files>
    website/components/sections/social-proof/VideoTestimonial.tsx
  </files>
  <action>
1. Create VideoTestimonial.tsx with:
   - Props: src (string), poster (string), className (optional)
   - Use "use client" directive (required for hooks)
   - Use Motion useInView hook with `{ amount: 0.5 }` - play when 50% visible
   - HTML5 video element with:
     - `muted` attribute (REQUIRED for autoplay)
     - `playsInline` attribute (REQUIRED for iOS)
     - `loop` attribute (for continuous play)
     - `poster` attribute for thumbnail before load
   - useEffect to play/pause based on isInView:
     ```typescript
     useEffect(() => {
       if (!videoRef.current) return;
       if (isInView) {
         videoRef.current.play().catch(() => {
           // Autoplay blocked - OK, user can click
         });
       } else {
         videoRef.current.pause();
       }
     }, [isInView]);
     ```
   - Style: rounded-2xl, shadow-lg, aspect-video container
   - Add click handler to unmute/mute toggle with visual indicator

2. Add visual overlay for unmute button:
   - Show volume icon when muted (default state)
   - Hide when unmuted
   - Position in bottom-right corner

3. IMPORTANT: Video files will have burned-in Hebrew subtitles (per CONTEXT.md decision). No subtitle track needed in code.
  </action>
  <verify>
    - Component renders without errors
    - `muted` and `playsInline` attributes present in video element
    - useInView hook imported from "motion/react"
    - Click handler toggles muted state
  </verify>
  <done>
    VideoTestimonial autoplays muted when in viewport, pauses when out, allows unmute on click.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create SocialProofCounters with spring animation</name>
  <files>
    website/components/sections/social-proof/SocialProofCounters.tsx
  </files>
  <action>
1. Create AnimatedCounter internal component:
   - Props: target (number), suffix (string, optional), label (string)
   - Use "use client" directive
   - Use Motion useInView with `{ once: true, margin: "-100px" }`
   - Use Motion useSpring with gentle spring physics:
     ```typescript
     const springValue = useSpring(0, {
       stiffness: 100,
       damping: 30,
       restDelta: 0.001,
     });
     ```
   - Use Motion useTransform to format display:
     ```typescript
     const display = useTransform(springValue, (v) =>
       Math.round(v).toLocaleString("he-IL")
     );
     ```
   - Start animation when isInView becomes true
   - Display with m.span for motion value binding

2. Create SocialProofCounters section component:
   - Layout: responsive grid (1 col mobile, 3 cols desktop)
   - Counter 1: "573+" label "לקוחות פעילים" (active customers) - PROOF-06
   - Counter 2: "12,400+" label "ביקורות שנאספו" (reviews collected) - PROOF-06
   - Counter 3: "8,500+" label "לידים חדשים" (new leads captured) - PROOF-06
   - Use ScrollReveal wrapper with stagger effect
   - Section heading: "המספרים מדברים בעד עצמם" (The numbers speak for themselves)

3. Export both components from index.ts (update existing file from 15-01):
   ```typescript
   export { VideoTestimonial } from "./VideoTestimonial";
   export { SocialProofCounters } from "./SocialProofCounters";
   ```
  </action>
  <verify>
    - `pnpm build` passes
    - useSpring and useTransform imported from "motion/react"
    - Numbers format with Hebrew locale (he-IL)
    - Counters animate once per page load (once: true)
  </verify>
  <done>
    SocialProofCounters displays 3 metrics that animate from 0 to target with spring physics when scrolled into view.
  </done>
</task>

</tasks>

<verification>
After completing all tasks:
1. Run `cd website && pnpm build` - no errors
2. Test VideoTestimonial with placeholder video
3. Test SocialProofCounters scroll into view animation
4. Verify counters only animate once (scroll up/down doesn't restart)
5. Verify video pauses when scrolled away
6. Verify click-to-unmute works on video
</verification>

<success_criteria>
- VideoTestimonial autoplays muted when 50% visible
- VideoTestimonial pauses when scrolled out of view
- Video has poster image to prevent black rectangle
- SocialProofCounters shows 3 metrics with Hebrew labels
- Counter animation triggers once when scrolled into view
- Numbers animate with spring physics (no linear counting)
- Build passes with no type errors
</success_criteria>

<output>
After completion, create `.planning/phases/15-social-proof-trust/15-02-SUMMARY.md`
</output>
