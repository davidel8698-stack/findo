---
phase: 16-offer-objection-handling
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - website/package.json
  - website/app/globals.css
  - website/components/ui/slider.tsx
  - website/components/ui/accordion.tsx
autonomous: true

must_haves:
  truths:
    - "Radix Accordion primitive installed and usable"
    - "Radix Slider primitive installed and usable"
    - "CSS keyframes for accordion height animation exist"
  artifacts:
    - path: "website/components/ui/slider.tsx"
      provides: "RTL-aware slider component"
      exports: ["Slider", "SliderInput"]
    - path: "website/components/ui/accordion.tsx"
      provides: "Accessible accordion with CSS animation"
      exports: ["Accordion", "AccordionItem", "AccordionTrigger", "AccordionContent"]
    - path: "website/app/globals.css"
      provides: "Accordion keyframe animations"
      contains: "accordion-down"
  key_links:
    - from: "website/components/ui/slider.tsx"
      to: "@radix-ui/react-slider"
      via: "import"
      pattern: "from ['\"]@radix-ui/react-slider['\"]"
    - from: "website/components/ui/accordion.tsx"
      to: "@radix-ui/react-accordion"
      via: "import"
      pattern: "from ['\"]@radix-ui/react-accordion['\"]"
---

<objective>
Install Radix UI primitives for Phase 16 and create reusable slider/accordion components.

Purpose: Foundation components needed for ROI calculator (slider) and FAQ section (accordion).
Output: Two UI components following shadcn/ui patterns with RTL support and accessible animations.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/16-offer-objection-handling/16-RESEARCH.md

@website/package.json
@website/app/globals.css
@website/components/ui/button.tsx
@website/lib/utils.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Radix UI primitives</name>
  <files>website/package.json</files>
  <action>
Install the two Radix UI primitives needed for Phase 16:

```bash
cd website && npm install @radix-ui/react-accordion @radix-ui/react-slider
```

Use npm (not pnpm) due to OneDrive sync issues documented in STATE.md.

After installation, verify both packages appear in package.json dependencies.
  </action>
  <verify>
Run `npm ls @radix-ui/react-accordion @radix-ui/react-slider` from website directory.
Both packages should show installed versions (^1.2.x for accordion, ^1.3.x for slider).
  </verify>
  <done>
@radix-ui/react-accordion and @radix-ui/react-slider listed in package.json dependencies.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create accordion UI component with CSS keyframe animation</name>
  <files>website/components/ui/accordion.tsx, website/app/globals.css</files>
  <action>
Create accordion.tsx following shadcn/ui patterns. Use Radix primitives with CSS keyframe animation for height transitions.

**accordion.tsx structure:**
- "use client" directive (Radix uses React context)
- Export Accordion (Root), AccordionItem, AccordionTrigger, AccordionContent
- AccordionTrigger: ChevronDown icon that rotates on open (group-data-[state=open]:rotate-180)
- AccordionContent: Uses CSS keyframe animation with overflow-hidden to prevent height flash
- Use cn() for className merging
- Set collapsible={true} as default for user control

**Add to globals.css (at end of file):**
```css
/* Accordion animation - Phase 16 */
@keyframes accordion-down {
  from {
    height: 0;
  }
  to {
    height: var(--radix-accordion-content-height);
  }
}

@keyframes accordion-up {
  from {
    height: var(--radix-accordion-content-height);
  }
  to {
    height: 0;
  }
}

.animate-accordion-down {
  animation: accordion-down 200ms ease-out;
}

.animate-accordion-up {
  animation: accordion-up 200ms ease-out;
}
```

**Key implementation details:**
- Use data-[state=open] and data-[state=closed] for animation classes
- AccordionContent must have overflow-hidden to prevent flash
- ChevronDown uses transition-transform duration-200 for smooth rotation
- AccordionTrigger must use text-start for RTL text alignment
  </action>
  <verify>
Run `npm run build` from website directory - no TypeScript errors.
Grep for "accordion-down" in globals.css to confirm keyframes added.
  </verify>
  <done>
accordion.tsx exports Accordion, AccordionItem, AccordionTrigger, AccordionContent.
globals.css contains accordion-down and accordion-up keyframe animations.
Build passes with no errors.
  </done>
</task>

<task type="auto">
  <name>Task 3: Create slider UI component with RTL support</name>
  <files>website/components/ui/slider.tsx</files>
  <action>
Create slider.tsx with two exports:
1. Slider - Low-level Radix wrapper
2. SliderInput - Higher-level component with label and value display

**Slider component (low-level):**
- Wraps Radix Slider primitives (Root, Track, Range, Thumb)
- CRITICAL: Always set dir="rtl" on Slider.Root for RTL support
- Styling: Track h-2 rounded-full bg-muted, Range bg-primary, Thumb h-5 w-5 rounded-full bg-primary with shadow
- Thumb hover:scale-110 active:scale-95 for playful interaction (per CONTEXT.md bouncy feel)
- Focus ring on Thumb for accessibility

**SliderInput component (high-level):**
```typescript
interface SliderInputProps {
  label: string;
  value: number[];
  onValueChange: (value: number[]) => void;
  min: number;
  max: number;
  step: number;
  formatValue?: (value: number) => string;
  className?: string;
}
```
- Flex layout with label on start, formatted value on end
- Uses Slider internally
- Default formatValue shows plain number

**Key implementation details:**
- dir="rtl" is MANDATORY on Slider.Root (prevents wrong direction per RESEARCH.md pitfall)
- touch-none select-none on Root for mobile handling
- ForwardRef pattern for Slider like other shadcn components
  </action>
  <verify>
Run `npm run build` from website directory - no TypeScript errors.
Grep for 'dir="rtl"' in slider.tsx to confirm RTL support.
  </verify>
  <done>
slider.tsx exports Slider and SliderInput components.
Slider has dir="rtl" set for proper RTL behavior.
SliderInput provides label + value display wrapper.
Build passes with no errors.
  </done>
</task>

</tasks>

<verification>
1. `npm ls @radix-ui/react-accordion @radix-ui/react-slider` shows both installed
2. `npm run build` passes with no errors
3. accordion.tsx and slider.tsx exist in website/components/ui/
4. globals.css contains accordion keyframe animations
5. slider.tsx contains dir="rtl" on Slider.Root
</verification>

<success_criteria>
- Both Radix primitives installed in package.json
- accordion.tsx with animated expand/collapse using CSS keyframes
- slider.tsx with RTL-aware slider and SliderInput wrapper
- Build passes, no TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/16-offer-objection-handling/16-01-SUMMARY.md`
</output>
