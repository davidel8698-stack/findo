---
phase: 16-offer-objection-handling
plan: 03
type: execute
wave: 2
depends_on: ["16-01"]
files_modified:
  - website/components/sections/offer/ROICalculator.tsx
  - website/components/sections/offer/index.ts
autonomous: true

must_haves:
  truths:
    - "User can drag sliders to adjust missed calls per week"
    - "User can drag sliders to adjust monthly revenue"
    - "Results update in real-time as sliders move"
    - "Results animate with spring physics when values change"
  artifacts:
    - path: "website/components/sections/offer/ROICalculator.tsx"
      provides: "Interactive ROI calculator with animated results"
      exports: ["ROICalculator"]
      min_lines: 80
  key_links:
    - from: "website/components/sections/offer/ROICalculator.tsx"
      to: "website/components/ui/slider.tsx"
      via: "import SliderInput"
      pattern: "from ['\"]@/components/ui/slider['\"]"
    - from: "website/components/sections/offer/ROICalculator.tsx"
      to: "motion/react"
      via: "useSpring, useTransform"
      pattern: "useSpring.*from ['\"]motion/react['\"]"
---

<objective>
Create the interactive ROI calculator with two sliders and animated results.

Purpose: Show visitors the potential value of Findo by calculating leads recovered and NIS value based on their inputs.
Output: ROICalculator component with real-time animated updates following spring physics.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/16-offer-objection-handling/16-CONTEXT.md
@.planning/phases/16-offer-objection-handling/16-RESEARCH.md

@website/components/ui/slider.tsx
@website/components/sections/social-proof/SocialProofCounters.tsx
@website/lib/utils.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create ROI Calculator component</name>
  <files>website/components/sections/offer/ROICalculator.tsx</files>
  <action>
Create ROICalculator.tsx with two slider inputs and animated results display.

**Slider inputs (per CONTEXT.md):**
1. Missed calls per week: min 1, max 20, step 1, default 5
2. Monthly revenue: min 10,000, max 200,000, step 5,000, default 50,000

**Calculation logic:**
```typescript
const CONVERSION_RATE = 0.15; // 15% of missed calls become leads
const AVG_DEAL_VALUE_MULTIPLIER = 0.1; // 10% of monthly revenue per lead

// Results
const leadsRecovered = Math.round(missedCalls * 4 * CONVERSION_RATE); // per month (4 weeks)
const valueRecovered = Math.round(leadsRecovered * monthlyRevenue * AVG_DEAL_VALUE_MULTIPLIER);
```

**Animation pattern (from SocialProofCounters.tsx):**
- useSpring for animated values (stiffness: 100, damping: 30)
- useTransform for formatting with toLocaleString("he-IL")
- Two useEffect hooks:
  1. Initial animation trigger when in view (once: true)
  2. Update animation when slider values change

**Component structure:**
```
<section className="py-16 md:py-24">
  <container>
    <ScrollReveal>
      <heading: "כמה אתה מפסיד בגלל שיחות שלא נענו?" />
    </ScrollReveal>

    <div className="max-w-xl mx-auto">
      <div className="space-y-6 mb-8">
        <SliderInput label="שיחות שלא נענו בשבוע" ... />
        <SliderInput label="הכנסה חודשית ממוצעת" formatValue={(v) => `₪${(v/1000).toLocaleString("he-IL")}K`} />
      </div>

      <div className="bg-primary/5 rounded-lg p-6 text-center">
        <p>בכל חודש אתה יכול לקבל</p>
        <div className="flex justify-center gap-8">
          <div>
            <m.span>{displayLeads}</m.span>
            <p>לידים חדשים</p>
          </div>
          <div>
            <m.span>{displayValue}</m.span> ₪
            <p>ערך פוטנציאלי</p>
          </div>
        </div>
      </div>
    </div>
  </container>
</section>
```

**Key implementation details:**
- "use client" directive (uses hooks)
- Import SliderInput from @/components/ui/slider
- Import useSpring, useTransform, m, useInView from motion/react
- Hebrew-friendly: avoid "ROI" term, use "כמה תרוויח" style
- Results use text-3xl font-bold text-primary
- Slider thumb should feel playful (hover:scale-110 already in slider.tsx)
  </action>
  <verify>
Run `npm run build` from website directory - no TypeScript errors.
File exists at website/components/sections/offer/ROICalculator.tsx.
Grep for "useSpring" to confirm animation pattern used.
  </verify>
  <done>
ROICalculator.tsx created with:
- Two slider inputs for missed calls and revenue
- Spring-animated results display
- Hebrew labels and formatting
- Real-time updates as sliders change
  </done>
</task>

<task type="auto">
  <name>Task 2: Update offer section barrel export</name>
  <files>website/components/sections/offer/index.ts</files>
  <action>
Add ROICalculator to the barrel export.

Update index.ts:
```typescript
export { GuaranteeBadge, type GuaranteeBadgeProps, type GuaranteeType } from "./GuaranteeBadges";
export { ZeroRiskSummary } from "./ZeroRiskSummary";
export { ROICalculator } from "./ROICalculator";
```
  </action>
  <verify>
Run `npm run build` from website directory - no TypeScript errors.
Grep for "ROICalculator" in index.ts.
  </verify>
  <done>
ROICalculator exported from offer section barrel.
Import from @/components/sections/offer works.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` passes with no errors
2. ROICalculator.tsx exists with useSpring animation pattern
3. Two slider inputs present (missed calls, monthly revenue)
4. Results display shows leads and NIS value
5. index.ts exports ROICalculator
</verification>

<success_criteria>
- Two sliders work and update values in real-time
- Results animate with spring physics (not instant jump)
- Hebrew formatting used (toLocaleString("he-IL"))
- Hebrew labels (no "ROI" term)
- Build passes, no TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/16-offer-objection-handling/16-03-SUMMARY.md`
</output>
