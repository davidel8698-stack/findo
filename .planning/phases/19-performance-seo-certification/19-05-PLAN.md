---
phase: 19-performance-seo-certification
plan: 05
type: execute
wave: 3
depends_on: ["19-01", "19-02", "19-03", "19-04"]
files_modified:
  - website/public/og-image.png
  - website/public/logo.png
autonomous: false

must_haves:
  truths:
    - "Lighthouse Performance score is 95+ on mobile"
    - "LCP is under 1.5 seconds"
    - "CLS is exactly 0"
    - "INP is under 100ms"
    - "No horizontal scroll on any viewport"
    - "Site loads in under 3 seconds on 3G"
  artifacts:
    - path: "website/public/og-image.png"
      provides: "Open Graph preview image"
    - path: "website/public/logo.png"
      provides: "Logo for structured data"
  key_links:
    - from: "Lighthouse audit"
      to: "Performance score"
      via: "Mobile simulation"
      pattern: "95+"
---

<objective>
Run comprehensive Lighthouse audit, verify all Core Web Vitals targets, test mobile responsiveness, and create OG image for social previews.

Purpose: Validate PERF-01 (Lighthouse 95+), PERF-02 (LCP < 1.5s), PERF-03 (CLS = 0), PERF-04 (INP < 100ms), MOBILE-05 (3G < 3s), MOBILE-06 (no horizontal scroll).
Output: Performance audit results, any required fixes, and OG/logo images.
</objective>

<execution_context>
@C:\Users\דודאלמועלם\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\דודאלמועלם\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/19-performance-seo-certification/19-RESEARCH.md
@.planning/phases/19-performance-seo-certification/19-CONTEXT.md
@.planning/phases/19-performance-seo-certification/19-04-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create OG image and logo assets</name>
  <files>
    website/public/og-image.png
    website/public/logo.png
  </files>
  <action>
Create required image assets for SEO and social previews:

1. Create og-image.png (1200x630px):
   - Orange gradient background (#f97316 to #ea580c)
   - White Findo logo centered
   - Hebrew tagline: "העסק שלך עובד. אתה לא."
   - Minimal, bold design

   For now, create a simple placeholder using ImageMagick or a simple HTML-to-image approach:
   ```bash
   # If ImageMagick available:
   convert -size 1200x630 \
     -gravity center \
     -background "#f97316" \
     -fill white \
     -font Arial \
     -pointsize 72 \
     label:"Findo" \
     website/public/og-image.png
   ```

   Alternative: Create a simple SVG-based OG image generator in the codebase:
   Create website/app/opengraph-image.tsx for dynamic OG generation:
   ```typescript
   import { ImageResponse } from "next/og";

   export const runtime = "edge";
   export const alt = "Findo - אוטומציה לעסקים קטנים";
   export const size = { width: 1200, height: 630 };
   export const contentType = "image/png";

   export default async function Image() {
     return new ImageResponse(
       (
         <div
           style={{
             background: "linear-gradient(135deg, #f97316 0%, #ea580c 100%)",
             width: "100%",
             height: "100%",
             display: "flex",
             flexDirection: "column",
             alignItems: "center",
             justifyContent: "center",
             fontFamily: "Arial, sans-serif",
           }}
         >
           <div
             style={{
               fontSize: 120,
               fontWeight: "bold",
               color: "white",
               marginBottom: 20,
             }}
           >
             Findo
           </div>
           <div
             style={{
               fontSize: 48,
               color: "white",
               textAlign: "center",
               direction: "rtl",
             }}
           >
             העסק שלך עובד. אתה לא.
           </div>
         </div>
       ),
       { ...size }
     );
   }
   ```

2. Create logo.png (512x512px):
   - Simple "F" lettermark or Findo text logo
   - Transparent background or white
   - Used for structured data

   If no logo exists yet, create a placeholder:
   ```typescript
   // website/app/icon.tsx
   import { ImageResponse } from "next/og";

   export const runtime = "edge";
   export const size = { width: 32, height: 32 };
   export const contentType = "image/png";

   export default function Icon() {
     return new ImageResponse(
       (
         <div
           style={{
             fontSize: 24,
             background: "#f97316",
             width: "100%",
             height: "100%",
             display: "flex",
             alignItems: "center",
             justifyContent: "center",
             color: "white",
             fontWeight: "bold",
             borderRadius: 4,
           }}
         >
           F
         </div>
       ),
       { ...size }
     );
   }
   ```

Note: If the user has actual brand assets, those should be used instead of generated placeholders.
  </action>
  <verify>
    - og-image.png or opengraph-image.tsx exists
    - Logo asset exists for structured data
    - Images are correctly sized
  </verify>
  <done>OG image and logo assets created or generated</done>
</task>

<task type="auto">
  <name>Task 2: Run Lighthouse audit and apply predetermined optimizations</name>
  <files>
    (No file changes - audit and verification only)
  </files>
  <action>
Run Lighthouse audit and document results. Apply only the predetermined optimizations from the checklist below.

1. Build production version:
   ```bash
   cd website && npm run build
   ```

2. Start production server:
   ```bash
   npm run start
   ```

3. Run Lighthouse audit via CLI:
   ```bash
   # Install Lighthouse CLI if needed
   npm install -g lighthouse

   # Run mobile audit
   lighthouse http://localhost:3000 \
     --emulated-form-factor=mobile \
     --throttling-method=simulate \
     --output=json \
     --output-path=./lighthouse-report.json
   ```

4. Document results in summary:
   - Performance score
   - LCP value and element
   - CLS value
   - TBT/INP value
   - Any failed audits

5. **Predetermined Optimization Checklist** (apply if audit flags these):

   | Issue | Predetermined Fix |
   |-------|-------------------|
   | LCP > 1.5s due to images | Verify all images use next/image with priority on hero |
   | LCP > 1.5s due to fonts | Verify Heebo has display:swap in font config |
   | CLS > 0 from images | Add explicit width/height to all img elements |
   | CLS > 0 from fonts | Verify font-display: swap is active |
   | TBT high from JS | Check for render-blocking scripts in head |
   | Unused CSS flagged | Note for future (not blocking for 95+) |
   | Images not optimized | Verify WebP format via next/image |

6. **If score is already >= 95**: Document success and proceed to Task 3.

7. **If score is < 95 after applying checklist fixes**: Document the specific issues in summary and proceed to Task 3 (human checkpoint) for triage.

This task does NOT loop - it applies predetermined fixes once and documents results. Any issues requiring architectural changes or judgment calls are deferred to the human checkpoint in Task 3.
  </action>
  <verify>
    - Lighthouse audit completed
    - Results documented
    - Predetermined fixes applied if applicable
    - Score documented (pass or fail)
  </verify>
  <done>Lighthouse audit completed with results documented</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Performance optimization and Core Web Vitals verification:
- PostHog analytics with reverse proxy (Plan 01)
- Complete Hebrew SEO metadata and structured data (Plan 02)
- Conversion tracking integration (Plan 03)
- Animation optimization for 60fps and zero CLS (Plan 04)
- Lighthouse audit and performance fixes (this plan)
  </what-built>
  <how-to-verify>
1. **Lighthouse Audit (Mobile)**
   - Open https://website-nine-theta-12.vercel.app (or deployed URL)
   - Run Lighthouse mobile audit
   - Expected: Performance 95+, LCP < 1.5s, CLS = 0, INP < 100ms
   - If < 95: Review audit details for specific issues to address

2. **SEO Verification**
   - View page source - check for Hebrew meta tags, og:locale he_IL
   - Visit /sitemap.xml - should show valid XML
   - Visit /robots.txt - should show text file
   - Test in Google Rich Results Test - should show 4 schemas

3. **Mobile Responsiveness**
   - Open in Chrome DevTools mobile view
   - Test iPhone SE, iPhone 12, Pixel 5 viewports
   - Scroll entire page - no horizontal scroll allowed
   - All touch targets should be 48px minimum

4. **3G Connection Test**
   - Open DevTools > Network > Slow 3G
   - Hard refresh page
   - Expected: Full load under 3 seconds

5. **Reduced Motion Test**
   - Enable "Reduce motion" in OS accessibility settings
   - Refresh page
   - Expected: No animations, instant state changes

6. **Social Preview Test**
   - Share URL on Twitter/LinkedIn/Facebook preview tool
   - Expected: Hebrew title, description, and OG image appear
  </how-to-verify>
  <resume-signal>
Approve if:
- Lighthouse Performance 95+
- All Core Web Vitals pass (green)
- No horizontal scroll on mobile
- 3G load under 3s
- Social previews work

Or describe specific issues to fix (these will be addressed in a gap closure plan if needed).
  </resume-signal>
</task>

</tasks>

<verification>
1. Lighthouse mobile Performance >= 95
2. LCP < 1.5s on mobile simulation
3. CLS = 0 (no layout shifts)
4. INP < 100ms (fast interactions)
5. No horizontal scroll on any device width
6. 3G load time < 3 seconds
7. Social preview tools show correct Hebrew content
</verification>

<success_criteria>
- Lighthouse Performance 95+ on mobile
- All Core Web Vitals green (LCP, CLS, INP)
- No horizontal scroll on mobile viewports
- Page loads in under 3 seconds on 3G
- OG image and logo assets exist
- Human verification approved
</success_criteria>

<output>
After completion, create `.planning/phases/19-performance-seo-certification/19-05-SUMMARY.md`
</output>
