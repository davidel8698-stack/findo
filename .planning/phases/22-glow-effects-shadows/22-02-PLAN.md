---
phase: 22-glow-effects-shadows
plan: 02
type: execute
wave: 2
depends_on: ["22-01"]
files_modified:
  - website/components/ui/button.tsx
  - website/components/ui/card.tsx
  - website/components/ui/input.tsx
autonomous: true

must_haves:
  truths:
    - "Button component supports glow variant with cta, cta-static, hover, and none options"
    - "Card component supports rimLight prop for dark mode top edge highlight"
    - "AnimatedCard uses 4-layer shadows and includes rim lighting by default"
    - "Input component has neutral glow on focus"
  artifacts:
    - path: "website/components/ui/button.tsx"
      provides: "Button with glow variant"
      exports: ["Button", "AnimatedButton", "buttonVariants"]
    - path: "website/components/ui/card.tsx"
      provides: "Card and AnimatedCard with rim lighting"
      exports: ["Card", "AnimatedCard"]
    - path: "website/components/ui/input.tsx"
      provides: "Input with focus glow"
      exports: ["Input"]
  key_links:
    - from: "website/components/ui/button.tsx"
      to: "website/app/globals.css"
      via: "CSS classes"
      pattern: "cta-pulse|cta-glow-static"
    - from: "website/components/ui/card.tsx"
      to: "website/app/globals.css"
      via: "CSS variables"
      pattern: "--shadow-elevation-medium|--shadow-hover"
---

<objective>
Enhance UI components with glow effects, multi-layer shadows, and rim lighting.

Purpose: Update button, card, and input components to leverage the CSS foundation from Plan 01. This enables glow variants for CTAs and premium dark mode separation via rim lighting on cards.

Output: Enhanced button.tsx with glow variant, card.tsx with rimLight prop and 4-layer shadows, input.tsx with focus glow.
</objective>

<execution_context>
@C:\Users\דודאלמועלם\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\דודאלמועלם\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/22-glow-effects-shadows/22-CONTEXT.md
@.planning/phases/22-glow-effects-shadows/22-RESEARCH.md
@.planning/phases/22-glow-effects-shadows/22-01-SUMMARY.md
@website/components/ui/button.tsx
@website/components/ui/card.tsx
@website/components/ui/input.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add glow variant to Button component</name>
  <files>website/components/ui/button.tsx</files>
  <action>
Update the `buttonVariants` cva definition to add a `glow` variant. Add this new variant alongside existing variants (variant, size, loading):

```typescript
glow: {
  // No glow (default)
  none: "",
  // CTA glow with pulse (hero primary only)
  cta: "cta-pulse",
  // Static CTA glow (mobile sticky bar)
  "cta-static": "cta-glow-static",
  // Hover glow for secondary buttons - uses pseudo-element technique
  hover: [
    "relative",
    "after:absolute after:inset-0 after:rounded-lg after:-z-10",
    "after:opacity-0 after:transition-opacity after:duration-200",
    "after:shadow-[0_0_15px_5px_hsl(0_0%_100%_/_0.1)]",
    "hover:after:opacity-100",
  ].join(" "),
},
```

Also add to `defaultVariants`:
```typescript
glow: "none",
```

Update the `ButtonProps` interface to include glow:
```typescript
export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean;
  loading?: boolean;
}
```

Update the Button component to pass `glow` through:
```typescript
const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, glow, loading = false, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button";
    return (
      <Comp
        className={cn(buttonVariants({ variant, size, glow, loading, className }))}
        ref={ref}
        disabled={loading || props.disabled}
        {...props}
      />
    );
  }
);
```

Update AnimatedButton similarly to accept and use glow prop.

Note: The `hover` glow uses pseudo-element technique for performance (only opacity animates, which is GPU-accelerated).
  </action>
  <verify>TypeScript compiles without errors: `cd website && npx tsc --noEmit`</verify>
  <done>Button component has glow variant with cta, cta-static, hover, and none options</done>
</task>

<task type="auto">
  <name>Task 2: Add rimLight prop and enhance shadows on Card components</name>
  <files>website/components/ui/card.tsx</files>
  <action>
Update Card and AnimatedCard components:

1. Add interface for Card props:
```typescript
interface CardProps extends React.HTMLAttributes<HTMLDivElement> {
  /** Enable dark mode rim lighting (top edge highlight) */
  rimLight?: boolean;
}
```

2. Update Card component:
```typescript
const Card = React.forwardRef<HTMLDivElement, CardProps>(
  ({ className, rimLight = false, ...props }, ref) => (
    <div
      ref={ref}
      className={cn(
        "rounded-lg border bg-card text-card-foreground shadow-sm",
        // Rim lighting - dark mode only, top edge (simulates overhead light)
        rimLight && "dark:border-t-2 dark:border-t-white/10",
        className
      )}
      {...props}
    />
  )
);
```

3. Update AnimatedCard interface and component:
```typescript
interface AnimatedCardProps extends Omit<HTMLMotionProps<"div">, "ref"> {
  /** Enable dark mode rim lighting (default: true for AnimatedCard) */
  rimLight?: boolean;
}

const AnimatedCard = React.forwardRef<HTMLDivElement, AnimatedCardProps>(
  ({ className, rimLight = true, ...props }, ref) => (
    <m.div
      ref={ref}
      className={cn(
        "rounded-xl border bg-card text-card-foreground",
        // Dark mode rim lighting (on by default for AnimatedCard)
        rimLight && "dark:border-t-2 dark:border-t-white/10",
        className
      )}
      style={{
        boxShadow: "var(--shadow-elevation-medium)",
      }}
      whileHover={{
        y: -4,
        boxShadow: "var(--shadow-hover)",
      }}
      transition={springGentle}
      {...props}
    />
  )
);
```

Key changes:
- Card gets optional `rimLight` prop (default false)
- AnimatedCard gets `rimLight` prop (default true - cards with hover effects should have rim lighting)
- AnimatedCard uses CSS variables for shadows instead of hardcoded values
- Rim lighting applies only in dark mode via `dark:` prefix
- Top edge only per CONTEXT.md decision
  </action>
  <verify>TypeScript compiles without errors: `cd website && npx tsc --noEmit`</verify>
  <done>Card components have rimLight prop and AnimatedCard uses 4-layer shadow system</done>
</task>

<task type="auto">
  <name>Task 3: Add focus glow to Input component</name>
  <files>website/components/ui/input.tsx</files>
  <action>
Update the Input component to add a subtle neutral glow on focus:

```typescript
const Input = React.forwardRef<HTMLInputElement, React.ComponentProps<"input">>(
  ({ className, type, ...props }, ref) => {
    return (
      <input
        type={type}
        className={cn(
          "flex h-12 w-full rounded-lg border border-input bg-background px-4 py-3 text-base text-start ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
          // Focus glow - neutral color for inputs (per CONTEXT.md)
          "focus-visible:shadow-[0_0_15px_5px_hsl(0_0%_100%_/_0.1)]",
          "transition-shadow duration-200",
          className
        )}
        ref={ref}
        {...props}
      />
    );
  }
);
```

Changes:
- Add `focus-visible:shadow-[...]` for neutral glow on focus
- Add `transition-shadow duration-200` for smooth 200ms fade-in
- Glow uses white/neutral color per CONTEXT.md (doesn't compete with CTA orange)
  </action>
  <verify>TypeScript compiles without errors: `cd website && npx tsc --noEmit`</verify>
  <done>Input component has neutral glow effect on focus</done>
</task>

</tasks>

<verification>
1. `cd website && npx tsc --noEmit` passes without errors
2. Button component exports buttonVariants with glow option in TypeScript types
3. Card and AnimatedCard accept rimLight prop
4. AnimatedCard whileHover uses CSS variable --shadow-hover
5. Input has focus-visible:shadow class
</verification>

<success_criteria>
- Button has glow variant with options: none, cta, cta-static, hover
- Button glow="cta" applies cta-pulse class
- Button glow="cta-static" applies cta-glow-static class
- Button glow="hover" uses pseudo-element technique for performant hover glow
- Card has optional rimLight prop (default false)
- AnimatedCard has rimLight prop (default true)
- Rim lighting appears as dark:border-t-2 dark:border-t-white/10
- AnimatedCard uses CSS variables for shadow system
- Input has neutral focus glow with 200ms transition
</success_criteria>

<output>
After completion, create `.planning/phases/22-glow-effects-shadows/22-02-SUMMARY.md`
</output>
