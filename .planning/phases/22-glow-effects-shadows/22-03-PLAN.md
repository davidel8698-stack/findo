---
phase: 22-glow-effects-shadows
plan: 03
type: execute
wave: 3
depends_on: ["22-02"]
files_modified:
  - website/components/molecules/CTAGroup.tsx
  - website/components/sections/hero/StickyCtaBar.tsx
  - website/components/sections/social-proof/TestimonialCard.tsx
autonomous: false

must_haves:
  truths:
    - "Hero primary CTA has visible pulse animation that draws the eye"
    - "Mobile sticky CTA bar has static glow (no pulse)"
    - "Testimonial cards have rim lighting visible in dark mode"
    - "Pulse animation pauses when hovering the CTA button"
    - "Glow effects work correctly and don't cause jank"
  artifacts:
    - path: "website/components/molecules/CTAGroup.tsx"
      provides: "Primary CTA with pulse glow"
      contains: 'glow="cta"'
    - path: "website/components/sections/hero/StickyCtaBar.tsx"
      provides: "Mobile sticky CTA with static glow"
      contains: 'glow="cta-static"'
    - path: "website/components/sections/social-proof/TestimonialCard.tsx"
      provides: "Testimonial cards with rim lighting"
      contains: "rimLight"
  key_links:
    - from: "website/components/molecules/CTAGroup.tsx"
      to: "website/components/ui/button.tsx"
      via: "glow prop"
      pattern: 'glow="cta"'
    - from: "website/components/sections/social-proof/TestimonialCard.tsx"
      to: "website/components/ui/card.tsx"
      via: "rimLight prop"
      pattern: "rimLight"
---

<objective>
Apply glow effects and rim lighting to conversion points and cards across the site.

Purpose: Integrate the enhanced components from Plan 02 into the actual UI. The primary CTA gets pulse animation, mobile sticky bar gets static glow, and testimonial cards get rim lighting.

Output: CTAGroup with pulsing primary button, StickyCtaBar with static glow, TestimonialCard with rim lighting on Card.
</objective>

<execution_context>
@C:\Users\דודאלמועלם\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\דודאלמועלם\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/22-glow-effects-shadows/22-CONTEXT.md
@.planning/phases/22-glow-effects-shadows/22-02-SUMMARY.md
@website/components/molecules/CTAGroup.tsx
@website/components/sections/hero/StickyCtaBar.tsx
@website/components/sections/social-proof/TestimonialCard.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Apply pulse glow to primary CTA in CTAGroup</name>
  <files>website/components/molecules/CTAGroup.tsx</files>
  <action>
Update CTAGroup to apply pulse glow to the primary button:

1. Add optional `primaryGlow` prop to control glow behavior:
```typescript
interface CTAGroupProps {
  primaryText: string;
  primaryHref?: string;
  primaryIcon?: LucideIcon;
  primaryLoading?: boolean;
  /** Glow effect for primary button - defaults to "cta" (pulse) */
  primaryGlow?: "cta" | "cta-static" | "hover" | "none";
  secondaryText?: string;
  secondaryHref?: string;
  onPrimaryClick?: () => void;
  onSecondaryClick?: () => void;
  className?: string;
  stackOnMobile?: boolean;
}
```

2. Update the primary Button to use glow prop:
```typescript
<Button
  asChild={!!primaryHref}
  onClick={onPrimaryClick}
  loading={primaryLoading}
  size="lg"
  glow={primaryGlow ?? "cta"}
  className="w-full sm:w-auto"
>
```

3. Update the secondary Button to use hover glow:
```typescript
{secondaryText && (
  <Button
    asChild={!!secondaryHref}
    onClick={onSecondaryClick}
    variant="outline"
    size="lg"
    glow="hover"
    className="w-full sm:w-auto"
  >
```

Default behavior:
- Primary CTA: pulse animation (glow="cta")
- Secondary CTA: hover glow (glow="hover")
  </action>
  <verify>TypeScript compiles: `cd website && npx tsc --noEmit`</verify>
  <done>CTAGroup primary button has pulse glow by default, secondary has hover glow</done>
</task>

<task type="auto">
  <name>Task 2: Apply static glow to mobile sticky CTA bar</name>
  <files>website/components/sections/hero/StickyCtaBar.tsx</files>
  <action>
Update StickyCtaBar to use static glow (no pulse per CONTEXT.md - less distracting on mobile):

```typescript
<Button size="lg" glow="cta-static" className="w-full" onClick={handleClick}>
  התחל בחינם
</Button>
```

The mobile sticky bar should have visible glow but NOT pulse animation - this is intentional per CONTEXT.md decision to be less distracting on mobile.
  </action>
  <verify>TypeScript compiles: `cd website && npx tsc --noEmit`</verify>
  <done>Mobile sticky CTA has static glow (no pulse animation)</done>
</task>

<task type="auto">
  <name>Task 3: Apply rim lighting to TestimonialCard</name>
  <files>website/components/sections/social-proof/TestimonialCard.tsx</files>
  <action>
Update TestimonialCard to use Card with rim lighting:

1. Update the Card usage to include rimLight prop:
```typescript
<Card className="h-full" rimLight>
```

This adds the subtle top-edge highlight in dark mode that creates premium separation per CONTEXT.md (white/zinc, top edge only, cards only).
  </action>
  <verify>TypeScript compiles: `cd website && npx tsc --noEmit`</verify>
  <done>Testimonial cards have rim lighting for dark mode depth</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Phase 22 glow effects and shadow system:
- Primary CTA (hero) has pulse animation (2s cycle, orange glow)
- Pulse pauses on hover, glow intensifies
- Mobile sticky CTA bar has static glow (no animation)
- Testimonial cards have rim lighting (top edge) in dark mode
- Input fields have neutral glow on focus
- Secondary buttons have subtle hover glow
  </what-built>
  <how-to-verify>
1. Run: `cd website && npm run dev`
2. Open http://localhost:3000 in browser

**Check CTA Pulse (Hero):**
- Scroll to hero section
- Primary CTA button ("התחל בחינם") should have a visible pulsing orange glow
- The glow should cycle every ~2 seconds (noticeable but not distracting)
- Hover over the button - pulse should PAUSE and glow should intensify

**Check Mobile Sticky CTA:**
- Open DevTools, switch to mobile view (e.g., iPhone 14)
- Scroll down past the hero
- Sticky CTA bar appears at bottom with static orange glow (no pulse)

**Check Rim Lighting (Dark Mode):**
- Ensure dark mode is active (should be default)
- Scroll to testimonials section
- Cards should have a subtle white/light edge at the TOP (rim lighting)
- This creates premium separation against the dark background

**Check Input Focus Glow:**
- Click on any form input field
- A subtle neutral glow should appear around the input
- Glow should fade in smoothly (200ms transition)

**Check Secondary Button Hover:**
- Hover over secondary CTA buttons (outline style)
- A subtle neutral glow should appear behind the button

**Check Reduced Motion:**
- In OS settings, enable "Reduce motion" preference
- Reload the page
- CTA pulse animation should NOT play (static glow only)

**Performance Check:**
- Open DevTools Performance tab
- Scroll around the page
- No jank or dropped frames from glow/shadow effects
  </how-to-verify>
  <resume-signal>Type "approved" if all glow effects and rim lighting work correctly, or describe any issues</resume-signal>
</task>

</tasks>

<verification>
1. `cd website && npx tsc --noEmit` passes
2. `npm run build` completes without errors
3. Visual inspection confirms:
   - Hero CTA pulses with orange glow
   - Pulse pauses on hover
   - Mobile sticky bar has static glow
   - Testimonial cards have rim lighting in dark mode
   - Input focus shows neutral glow
4. Lighthouse Performance remains 95+ (check in CI or manually)
</verification>

<success_criteria>
- GRAD-02 satisfied: CTA buttons have glow effect on hover
- GRAD-03 satisfied: Primary CTA has subtle pulse animation
- GRAD-05 satisfied: Multi-layer shadows on elevated elements
- GRAD-06 satisfied: Rim lighting on dark mode cards
- Performance budget maintained (5-8 glow elements max per viewport)
- prefers-reduced-motion respected
</success_criteria>

<output>
After completion, create `.planning/phases/22-glow-effects-shadows/22-03-SUMMARY.md`
</output>
