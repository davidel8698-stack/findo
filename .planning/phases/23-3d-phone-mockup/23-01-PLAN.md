---
phase: 23-3d-phone-mockup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - website/app/globals.css
  - website/components/sections/hero/ActivityFeed.tsx
autonomous: true

must_haves:
  truths:
    - "Activity feed animation loops continuously every 8-12 seconds"
    - "Phone mockup shadow CSS variable exists in theme"
    - "Screen glow CSS variable exists in theme"
  artifacts:
    - path: "website/app/globals.css"
      provides: "Phone mockup shadow and screen glow CSS variables"
      contains: "--shadow-phone-mockup"
    - path: "website/components/sections/hero/ActivityFeed.tsx"
      provides: "Looping activity feed animation"
      contains: "repeat: -1"
  key_links:
    - from: "website/app/globals.css"
      to: "Phase 22 shadow system"
      via: "Extends existing shadow variable pattern"
      pattern: "--shadow-phone-mockup"
---

<objective>
Establish CSS foundation for phone mockup and convert activity feed to continuous loop animation.

Purpose: Prepare styling infrastructure for the 3D phone mockup visual upgrade and make the hero feel alive with continuous activity.
Output: CSS variables for phone shadow/glow + looping activity feed animation.
</objective>

<execution_context>
@C:\Users\דודאלמועלם\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\דודאלמועלם\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/23-3d-phone-mockup/23-CONTEXT.md
@.planning/phases/23-3d-phone-mockup/23-RESEARCH.md
@.planning/phases/22-glow-effects-shadows/22-01-SUMMARY.md

# Existing components
@website/app/globals.css
@website/components/sections/hero/ActivityFeed.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add phone mockup CSS variables</name>
  <files>website/app/globals.css</files>
  <action>
Add two new CSS variables to the @theme block in globals.css, following Phase 22's established naming patterns:

1. `--shadow-phone-mockup` - Multi-layer shadow for realistic depth:
   ```css
   --shadow-phone-mockup:
     0 1px 2px hsl(0 0% 0% / 0.1),
     0 4px 8px hsl(0 0% 0% / 0.1),
     0 16px 32px hsl(0 0% 0% / 0.08),
     0 32px 64px hsl(0 0% 0% / 0.06);
   ```
   This creates 4 layers: contact shadow (tight), soft spread, ambient 1, ambient 2.

2. `--glow-screen` - Brand orange radial glow for screen illumination:
   ```css
   --glow-screen: 0 0 40px 20px hsl(24.6 95% 53.1% / 0.15);
   ```
   Uses brand orange (24.6 95% 53.1%) at 15% opacity - subtle, premium, not distracting.

Place these after the existing glow variables (--glow-cta, --glow-cta-intense, --glow-neutral).

DO NOT modify any existing variables - add new ones only.
  </action>
  <verify>
Run `npm run build` - should complete without CSS errors.
Grep globals.css for `--shadow-phone-mockup` and `--glow-screen` to confirm presence.
  </verify>
  <done>
CSS variables `--shadow-phone-mockup` and `--glow-screen` defined in globals.css @theme block.
Build passes.
  </done>
</task>

<task type="auto">
  <name>Task 2: Convert ActivityFeed to continuous loop</name>
  <files>website/components/sections/hero/ActivityFeed.tsx</files>
  <action>
Modify the GSAP timeline in ActivityFeed.tsx to loop continuously per CONTEXT.md (8-12 second cycle):

1. Add `repeat: -1` to the timeline config for infinite looping
2. Add `repeatDelay: 1.5` for pause between cycles
3. Restructure animation into 3 phases:

Phase 1 - Animate IN (staggered entrance):
```tsx
tl.fromTo(
  cards,
  { y: 40, opacity: 0, scale: 0.9 },
  { y: 0, opacity: 1, scale: 1, stagger: 0.4 }
); // ~2s total for 5 cards
```

Phase 2 - HOLD for reading:
```tsx
tl.to({}, { duration: 4 }); // 4s pause
```

Phase 3 - Animate OUT (faster exit):
```tsx
tl.to(cards, { y: -30, opacity: 0, stagger: 0.15 }); // ~0.75s
```

Total cycle: 2 + 4 + 0.75 + 1.5 (repeatDelay) = ~8.25s (within 8-12s target).

Keep the existing:
- `requestIdleCallback` wrapper for LCP optimization
- `removeWillChange` callback for memory cleanup
- `back.out(1.7)` easing for bouncy personality

IMPORTANT: Update the timeline config object, not the animation calls themselves (those only need timing adjustments).
  </action>
  <verify>
Run `npm run dev` and observe hero section.
Activity feed should:
1. Animate in with staggered cards
2. Hold visible for ~4 seconds
3. Animate out upward
4. Pause briefly
5. Repeat from step 1

Time one full cycle - should be 8-12 seconds.
  </verify>
  <done>
ActivityFeed.tsx plays continuous 8-12 second loop animation.
Animation has clear in/hold/out phases.
Hero feels alive with perpetual motion.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` passes without errors
2. CSS variables present in globals.css output
3. ActivityFeed loops continuously in dev server
4. Animation cycle timing is 8-12 seconds
</verification>

<success_criteria>
- CSS variables `--shadow-phone-mockup` and `--glow-screen` are defined and accessible
- ActivityFeed animates in a continuous loop with 8-12 second cycle
- Build passes, no console errors
- Existing functionality preserved (RTL layout, accessibility)
</success_criteria>

<output>
After completion, create `.planning/phases/23-3d-phone-mockup/23-01-SUMMARY.md`
</output>
