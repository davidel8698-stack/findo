---
phase: 23-3d-phone-mockup
plan: 02
type: execute
wave: 2
depends_on: ["23-01"]
files_modified:
  - website/public/images/phone-mockup.png
  - website/components/sections/hero/PhoneMockup.tsx
autonomous: false

must_haves:
  truths:
    - "Pre-rendered 3D phone image displays in hero section"
    - "Activity feed renders inside the phone screen overlay"
    - "Phone has multi-layer shadow creating realistic depth"
    - "Screen glow effect visible behind phone"
    - "Phone positioned correctly for RTL (left side of text)"
  artifacts:
    - path: "website/public/images/phone-mockup.png"
      provides: "3D phone mockup image asset"
    - path: "website/components/sections/hero/PhoneMockup.tsx"
      provides: "Phone mockup component with image, glow, shadows"
      contains: "Image"
  key_links:
    - from: "website/components/sections/hero/PhoneMockup.tsx"
      to: "website/app/globals.css"
      via: "CSS variable consumption"
      pattern: "var\\(--shadow-phone-mockup\\)"
    - from: "website/components/sections/hero/PhoneMockup.tsx"
      to: "website/public/images/phone-mockup"
      via: "Next.js Image import"
      pattern: "src=.*phone-mockup"
---

<objective>
Transform the CSS-only phone frame into a premium pre-rendered 3D phone mockup with realistic shadows and screen glow.

Purpose: Deliver the hero visual centerpiece with photo-realistic quality matching Linear/Stripe visual standards.
Output: PhoneMockup component using 3D image asset with CSS shadows and glow effects.
</objective>

<execution_context>
@C:\Users\דודאלמועלם\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\דודאלמועלם\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/23-3d-phone-mockup/23-CONTEXT.md
@.planning/phases/23-3d-phone-mockup/23-RESEARCH.md
@.planning/phases/23-3d-phone-mockup/23-01-SUMMARY.md

# Existing components
@website/components/sections/hero/PhoneMockup.tsx
@website/components/sections/hero/Hero.tsx
</context>

<tasks>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 1: Obtain 3D phone mockup image</name>
  <action>
User needs to provide a pre-rendered 3D phone mockup image with these specifications from CONTEXT.md:

**Visual Requirements:**
- Three-quarter view angle (~30 degrees) showing depth
- Modern frameless silhouette (thin bezels, rounded corners)
- Space black/dark gray frame color
- Generic premium phone shape (not brand-specific)
- Transparent or dark background (for compositing)
- High quality render with materials/reflections

**Technical Requirements:**
- Minimum 580x1160px resolution (2x for retina)
- PNG format with transparency preferred
- Will be converted to AVIF/WebP automatically by Next.js

**Recommended Sources:**
1. **Mockuuups** (mockuuups.studio) - Premium device mockups
2. **Rotato** (rotato.app) - 3D device mockup generator
3. **Angle** (angle.sh) - Vector device mockups
4. **Blender** - Custom render if needed

Place the image at: `website/public/images/phone-mockup.png`
  </action>
  <how-to-verify>
File exists at `website/public/images/phone-mockup.png`
Image dimensions are at least 580x1160px
Image has transparent or dark background
  </how-to-verify>
  <resume-signal>Type "image ready" when phone-mockup.png is placed in public/images/</resume-signal>
</task>

<task type="auto">
  <name>Task 2: Refactor PhoneMockup to use 3D image</name>
  <files>website/components/sections/hero/PhoneMockup.tsx</files>
  <action>
Replace the pure CSS phone frame with a Next.js Image component + CSS effects:

```tsx
"use client";

import Image from "next/image";
import { cn } from "@/lib/utils";
import { type ReactNode } from "react";

interface PhoneMockupProps {
  children?: ReactNode;
  className?: string;
}

/**
 * Premium 3D phone mockup with pre-rendered image, multi-layer shadows, and screen glow.
 * Uses Next.js Image for optimized loading (AVIF/WebP automatic).
 * Activity feed renders inside the screen overlay area.
 */
export function PhoneMockup({ children, className }: PhoneMockupProps) {
  return (
    <div className={cn("relative", className)}>
      {/* Screen Glow - behind phone, brand orange tint */}
      <div
        className={cn(
          "absolute inset-0 -z-10",
          "blur-[40px] scale-110",
          "bg-[radial-gradient(ellipse_at_center,hsl(24.6_95%_53.1%_/_0.2)_0%,transparent_70%)]"
        )}
        aria-hidden="true"
      />

      {/* Phone Frame with Multi-Layer Shadow */}
      <div
        className={cn(
          "relative",
          // Multi-layer shadow from CSS variable
          "drop-shadow-[0_1px_2px_rgba(0,0,0,0.1)]",
          "drop-shadow-[0_4px_8px_rgba(0,0,0,0.1)]",
          "drop-shadow-[0_16px_32px_rgba(0,0,0,0.08)]",
          "drop-shadow-[0_32px_64px_rgba(0,0,0,0.06)]"
        )}
      >
        {/* Pre-rendered 3D Phone Image */}
        <Image
          src="/images/phone-mockup.png"
          alt=""
          width={290}
          height={580}
          priority
          className="w-[240px] md:w-[290px] h-auto"
        />

        {/* Screen Content Overlay - positioned to match mockup screen area */}
        {/* ADJUST these inset values based on actual image dimensions */}
        <div
          className={cn(
            "absolute overflow-hidden rounded-[1.5rem]",
            // Position overlay to match screen area - adjust based on actual image
            "left-[8%] right-[8%] top-[3%] bottom-[3%]",
            "bg-background"
          )}
        >
          <div className="h-full w-full overflow-hidden p-3">
            {children}
          </div>
        </div>

        {/* Rim Light - subtle top edge highlight for dark mode */}
        <div
          className={cn(
            "absolute inset-0 pointer-events-none",
            "border-t border-t-white/5 rounded-[2rem]"
          )}
          aria-hidden="true"
        />
      </div>
    </div>
  );
}
```

**Key Implementation Notes:**

1. **Image Priority:** Use `priority` prop for LCP optimization (hero image should preload)

2. **Drop-shadow for PNG:** Using filter: drop-shadow() instead of box-shadow because the image has transparency. The shadow follows the actual phone shape, not a rectangle.

3. **Screen Overlay Positioning:** The `left-[8%] right-[8%] top-[3%] bottom-[3%]` values are ESTIMATES. After placing the actual image, visually adjust these percentages so the activity feed aligns perfectly with the phone's screen area.

4. **Screen Glow:** Positioned behind (-z-10) with blur and scale to create soft edge bleeding effect. Uses brand orange at 20% opacity per RESEARCH.md guidance.

5. **Rim Light:** Subtle white/5 top border creates premium separation in dark mode.

6. **Removed CSS Frame:** Delete the old border-based phone frame, volume/power buttons - the 3D image includes these.

**IMPORTANT:** After implementing, view in dev server and adjust the screen overlay inset values to match the actual phone image screen area. The values provided are starting points.
  </action>
  <verify>
Run `npm run dev` and view hero section.
Verify:
1. Phone image displays at correct size (240px mobile, 290px desktop)
2. Activity feed renders inside the screen area (adjust inset values if misaligned)
3. Screen glow visible as subtle orange ambient light behind phone
4. Multi-layer shadow creates depth/floating effect
5. RTL layout still works (phone on left side of text)
  </verify>
  <done>
PhoneMockup uses pre-rendered 3D image with:
- Next.js Image with priority for LCP
- Multi-layer drop-shadow for realistic depth
- Screen glow effect behind phone
- Activity feed renders in correct position
- RTL positioning preserved
  </done>
</task>

</tasks>

<verification>
1. Phone mockup image displays in hero section
2. Activity feed visible inside phone screen
3. Screen glow creates ambient light effect
4. Shadows create realistic depth
5. Mobile and desktop sizes correct
6. RTL layout preserved (phone on left of text)
7. `npm run build` passes
</verification>

<success_criteria>
- Pre-rendered 3D phone image replaces CSS-only frame
- Activity feed content renders inside screen overlay
- Multi-layer shadow creates floating depth effect
- Screen glow provides subtle orange ambient lighting
- Image loads with priority for LCP optimization
- No visual regression in RTL layout
</success_criteria>

<output>
After completion, create `.planning/phases/23-3d-phone-mockup/23-02-SUMMARY.md`
</output>
