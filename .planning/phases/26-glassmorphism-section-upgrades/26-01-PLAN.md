---
phase: 26-glassmorphism-section-upgrades
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - website/app/globals.css
autonomous: true

must_haves:
  truths:
    - "Glass CSS utilities exist with strong/light intensity variants"
    - "Mobile fallback shows solid dark background (zinc-900/80)"
    - "Desktop with @supports shows blur effect (8-12px)"
    - "Safari gets -webkit-backdrop-filter prefix"
  artifacts:
    - path: "website/app/globals.css"
      provides: "Glass utility classes and CSS variables"
      contains: "glass-strong"
  key_links:
    - from: "website/app/globals.css"
      to: "@supports"
      via: "CSS feature detection"
      pattern: "@supports.*backdrop-filter"
---

<objective>
Create CSS foundation for glassmorphism effects with performance-aware fallbacks.

Purpose: Establish reusable glass utilities that all glass-enabled components will use, ensuring consistent styling and proper mobile/desktop fallback behavior.
Output: Glass CSS variables and utility classes in globals.css with @supports fallback pattern.
</objective>

<execution_context>
@C:\Users\דודאלמועלם\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\דודאלמועלם\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/26-glassmorphism-section-upgrades/26-CONTEXT.md
@.planning/phases/26-glassmorphism-section-upgrades/26-RESEARCH.md
@website/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add glass CSS variables to @theme block</name>
  <files>website/app/globals.css</files>
  <action>
Add glass effect CSS variables to the existing @theme block in globals.css, after the existing GLOW & SHADOW SYSTEM section:

```css
/* ============================================
 * GLASSMORPHISM SYSTEM - Phase 26
 * Subtle glass effects per CONTEXT.md decisions
 * ============================================ */

/* Glass blur values - 8-12px range */
--glass-blur-strong: 12px;
--glass-blur-light: 8px;

/* Glass background opacities - with blur active */
--glass-bg-strong: rgb(24 24 27 / 0.2);
--glass-bg-light: rgb(24 24 27 / 0.15);

/* Fallback background - solid dark (mobile/no-support) */
--glass-bg-fallback: rgb(24 24 27 / 0.8);

/* Glass borders - thinner with blur, stronger without */
--glass-border: rgb(255 255 255 / 0.1);
--glass-border-fallback: rgb(255 255 255 / 0.2);
```

These values are per CONTEXT.md decisions:
- 8-12px blur range (subtle, not heavy frosted)
- 15-25% background opacity (20% strong, 15% light)
- 10-20% border opacity (10% with blur, 20% fallback)
  </action>
  <verify>Grep for "--glass-blur-strong" in globals.css returns a match</verify>
  <done>Glass CSS variables defined in @theme block</done>
</task>

<task type="auto">
  <name>Task 2: Create glass utility classes with @supports fallback</name>
  <files>website/app/globals.css</files>
  <action>
Add glass utility classes at the end of globals.css (after the existing MICRO-INTERACTION TOUCH DEVICE HANDLING section):

```css
/* ============================================
 * GLASSMORPHISM UTILITIES - Phase 26
 * Mobile-first with desktop glass enhancement
 * Per CONTEXT.md: desktop gets glass, mobile gets solid
 * ============================================ */

/* Glass strong - Feature cards (primary focus)
 * Per CONTEXT.md: 12px blur, 20% bg opacity, 10% border
 */
.glass-strong {
  /* Fallback (mobile and no-support) */
  background-color: var(--glass-bg-fallback);
  border: 1px solid var(--glass-border-fallback);
}

/* Glass light - Stats/Testimonials (lighter treatment)
 * Per CONTEXT.md: 8px blur, 15% bg opacity, 8% border
 */
.glass-light {
  /* Fallback (mobile and no-support) */
  background-color: var(--glass-bg-fallback);
  border: 1px solid var(--glass-border-fallback);
}

/* Desktop enhancement with @supports */
@media (min-width: 768px) {
  @supports (backdrop-filter: blur(1px)) {
    .glass-strong {
      background-color: var(--glass-bg-strong);
      backdrop-filter: blur(var(--glass-blur-strong));
      -webkit-backdrop-filter: blur(var(--glass-blur-strong));
      border: 1px solid var(--glass-border);
    }

    .glass-light {
      background-color: var(--glass-bg-light);
      backdrop-filter: blur(var(--glass-blur-light));
      -webkit-backdrop-filter: blur(var(--glass-blur-light));
      border: 1px solid var(--glass-border);
    }
  }
}

/* Reduced motion: keep glass (it's visual, not motion)
 * Per CONTEXT.md: "Reduced-motion users keep glass"
 */
```

Key implementation notes:
- Mobile-first: solid background by default
- Desktop with @supports: glass effect enabled
- -webkit-backdrop-filter for Safari < 18.0 support
- No animation of backdrop-filter (performance pitfall)
  </action>
  <verify>Run `npm run build` in website directory - should complete without CSS errors</verify>
  <done>Glass utility classes (.glass-strong, .glass-light) available with proper fallback</done>
</task>

<task type="auto">
  <name>Task 3: Update existing .glass utility for consistency</name>
  <files>website/app/globals.css</files>
  <action>
Find the existing `.glass` utility in globals.css (around line 461):

```css
/* Glass effect for cards */
.glass {
  @apply bg-card/80 backdrop-blur-md;
}
```

Update it to use the new glass system while maintaining backward compatibility:

```css
/* Glass effect for cards (legacy utility - use .glass-strong or .glass-light for new code)
 * Kept for backward compatibility with existing components
 */
.glass {
  /* Fallback */
  background-color: var(--glass-bg-fallback);
}

@media (min-width: 768px) {
  @supports (backdrop-filter: blur(1px)) {
    .glass {
      background-color: var(--glass-bg-strong);
      backdrop-filter: blur(var(--glass-blur-light));
      -webkit-backdrop-filter: blur(var(--glass-blur-light));
    }
  }
}
```

This ensures the existing StickyCtaBar (which uses backdrop-blur-md directly) continues working while new glass components use the explicit .glass-strong/.glass-light utilities.
  </action>
  <verify>Grep for "glass-bg-fallback" in globals.css returns matches for both .glass and .glass-strong</verify>
  <done>Existing .glass utility updated to use glass system variables</done>
</task>

</tasks>

<verification>
1. `npm run build` completes without CSS errors
2. CSS variables exist: --glass-blur-strong, --glass-blur-light, --glass-bg-strong, --glass-bg-light
3. Utility classes exist: .glass-strong, .glass-light
4. @supports block wraps desktop glass enhancement
5. -webkit-backdrop-filter prefix present for Safari
</verification>

<success_criteria>
- Glass CSS foundation is production-ready
- Mobile fallback (solid background) works by default
- Desktop glass effect activates via @supports
- Both intensity variants (strong/light) available
- No runtime JS required for fallback detection
</success_criteria>

<output>
After completion, create `.planning/phases/26-glassmorphism-section-upgrades/26-01-SUMMARY.md`
</output>
