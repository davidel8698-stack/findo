---
phase: 27-performance-certification
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/phases/27-performance-certification/27-02-SUMMARY.md
autonomous: true

must_haves:
  truths:
    - "60fps animation verification documented with CPU throttling"
    - "GPU-accelerated properties verified (transform, opacity only)"
    - "will-change element count verified under 10"
    - "No glassmorphism jank detected"
  artifacts:
    - path: ".planning/phases/27-performance-certification/27-02-SUMMARY.md"
      provides: "Animation and GPU testing documentation"
      contains: "60fps"
  key_links:
    - from: "Chrome DevTools Performance panel"
      to: "FPS measurement"
      via: "CPU throttling simulation"
      pattern: "4x slowdown"
---

<objective>
Verify animation performance (60fps) and GPU optimization to validate PERF-05, PERF-06, PERF-07, PERF-08, CERT-03, and CERT-05.

Purpose: Confirm all v2.0 animations maintain 60fps on mid-range devices (simulated via CPU throttling) and use only GPU-accelerated properties.

Output: Animation performance report documenting FPS behavior, GPU property verification, will-change count, and glassmorphism jank status.
</objective>

<execution_context>
@C:\Users\דודאלמועלם\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\דודאלמועלם\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/27-performance-certification/27-CONTEXT.md
@.planning/phases/27-performance-certification/27-RESEARCH.md
@src/lib/animation.ts
@src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify GPU-accelerated properties in animation code</name>
  <files>.planning/phases/27-performance-certification/27-02-SUMMARY.md</files>
  <action>
Audit animation code to verify only GPU-composited properties are animated.

**GPU-accelerated (ALLOWED):**
- transform (translate, scale, rotate)
- opacity

**Non-composited (NOT ALLOWED in animations):**
- top, left, right, bottom
- width, height
- margin, padding
- background-color (in keyframes)
- border properties

**Files to audit:**
1. `src/lib/animation.ts` - Motion variants and spring configs
2. `src/app/globals.css` - CSS keyframes and animations
3. Any component-specific animation definitions

**Search for non-composited animations:**
```bash
# Search for animated properties that cause layout
grep -r "animation:" src/ --include="*.css" --include="*.tsx"
grep -r "@keyframes" src/
```

**Verification checklist:**
- [ ] All Motion variants use transform/opacity only
- [ ] All CSS keyframes use transform/opacity only
- [ ] No top/left/right/bottom animations
- [ ] No width/height animations
- [ ] No margin/padding animations

Document findings with specific file:line references.
  </action>
  <verify>No non-composited properties found in animation definitions</verify>
  <done>GPU property audit complete: All animations use transform/opacity only (PERF-07 PASS) OR specific violations documented</done>
</task>

<task type="auto">
  <name>Task 2: Verify will-change element count</name>
  <files>.planning/phases/27-performance-certification/27-02-SUMMARY.md</files>
  <action>
Count elements with will-change applied to verify PERF-08 (<10 elements at any time).

**Search for will-change in codebase:**
```bash
# Find will-change in CSS
grep -r "will-change" src/ --include="*.css"

# Find will-change in TSX (inline styles)
grep -r "willChange" src/ --include="*.tsx"

# Find Tailwind will-change classes
grep -r "will-change-" src/ --include="*.tsx"
```

**Expected from 27-RESEARCH.md:**
- BackgroundDepth.tsx: 3 orb elements with will-change-transform
- ActivityFeed.tsx: Dynamic cleanup after animation
- globals.css: One declaration for hover effects
- Total should be well under 10

**Document:**
1. Total static will-change elements
2. Dynamic will-change usage (added/removed)
3. Maximum concurrent will-change elements possible
4. PASS/FAIL against <10 budget
  </action>
  <verify>Total will-change elements < 10</verify>
  <done>will-change audit complete: [N] elements identified, PERF-08 PASS/FAIL</done>
</task>

<task type="auto">
  <name>Task 3: Document 60fps testing procedure for manual verification</name>
  <files>.planning/phases/27-performance-certification/27-02-SUMMARY.md</files>
  <action>
Document the 60fps animation testing procedure that will be executed during human verification checkpoint (Plan 04).

**Chrome DevTools Performance Testing Protocol:**
1. Open production site (http://localhost:3000) in Chrome
2. Open DevTools (F12) > Performance tab
3. Click gear icon (Capture Settings)
4. Set CPU throttling to "4x slowdown" (simulates mid-range device per CONTEXT.md)
5. Enable Screenshots
6. Click Record
7. Perform these actions:
   - Wait for hero entrance animation to complete
   - Scroll slowly through entire page
   - Hover over interactive elements (buttons, cards)
   - Trigger any remaining animations
8. Click Stop
9. Analyze FPS chart

**What to look for:**
- FPS should stay at or near 60 (green line)
- Red bars indicate jank (frames >16.67ms)
- Yellow bars indicate moderate delays
- Long Animation Frames highlighted in Chrome 123+

**Glassmorphism jank check (CERT-05):**
- Focus on sections with glass cards (Stats, Testimonials, Contact)
- Check if backdrop-filter causes frame drops during scroll
- Mobile fallback should prevent glass on mobile (verify @supports working)

**PERF-06 / CERT-03 note:**
Per CONTEXT.md: "Use Chrome DevTools throttling (4x CPU slowdown) as mid-range device baseline - no physical Galaxy A24 4G available"

Document this procedure clearly for Plan 04 checkpoint execution.
  </action>
  <verify>Testing procedure documented with clear steps</verify>
  <done>60fps testing protocol documented for checkpoint verification (PERF-05, PERF-06, CERT-03, CERT-05)</done>
</task>

</tasks>

<verification>
- [ ] GPU-accelerated properties audit complete (all files checked)
- [ ] will-change count documented and under budget
- [ ] 60fps testing procedure documented for human verification
- [ ] Glassmorphism jank check procedure documented
- [ ] All PERF and CERT requirements addressed
</verification>

<success_criteria>
Animation and GPU testing documented with:
1. GPU property audit results (PERF-07)
2. will-change element count < 10 (PERF-08)
3. Clear 60fps testing procedure for Plan 04 (PERF-05, PERF-06, CERT-03)
4. Glassmorphism jank check procedure (CERT-05)
</success_criteria>

<output>
After completion, create `.planning/phases/27-performance-certification/27-02-SUMMARY.md`
</output>
