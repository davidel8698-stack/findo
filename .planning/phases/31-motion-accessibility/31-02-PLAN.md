---
phase: 31-motion-accessibility
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - website/app/globals.css
  - website/components/ui/card.tsx
autonomous: true

must_haves:
  truths:
    - "Shimmer border animation rotates continuously on hero cards"
    - "Shimmer uses primary accent gradient colors"
    - "Shimmer is GPU-accelerated (uses @property + conic-gradient)"
    - "Shimmer disabled completely when prefers-reduced-motion enabled"
  artifacts:
    - path: "website/app/globals.css"
      provides: "@property --shimmer-angle, keyframes shimmer-rotate, .shimmer-border class"
      contains: ["@property --shimmer-angle", "shimmer-rotate", "shimmer-border::before"]
    - path: "website/components/ui/card.tsx"
      provides: "ShimmerCard component"
      exports: ["ShimmerCard"]
  key_links:
    - from: "website/components/ui/card.tsx"
      to: "website/app/globals.css"
      via: "shimmer-border className"
      pattern: "shimmer-border"
---

<objective>
Implement the shimmer border effect for hero/featured elements.

Purpose: Create the signature Linear-style shimmer animation (MOTION-04) and apply to hero cards (MOTION-05).
Output: CSS @property animation in globals.css, ShimmerCard component in card.tsx
</objective>

<execution_context>
@C:\Users\דודאלמועלם\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\דודאלמועלם\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/31-motion-accessibility/31-RESEARCH.md
@.planning/phases/31-motion-accessibility/31-CONTEXT.md
@website/app/globals.css
@website/components/ui/card.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add shimmer CSS animation to globals.css</name>
  <files>website/app/globals.css</files>
  <action>
Add the shimmer border animation using CSS @property for GPU-accelerated rotation.

Location: After the @theme block, before the @layer utilities block.

Add this CSS (place after the @custom-variant dark line, before @layer utilities):
```css
/* ============================================
 * SHIMMER BORDER ANIMATION - Phase 31 MOTION-04
 * Premium rotating gradient border for hero cards
 * Uses @property for GPU-accelerated angle animation
 * ============================================ */

@property --shimmer-angle {
  syntax: "<angle>";
  initial-value: 0deg;
  inherits: false;
}

@keyframes shimmer-rotate {
  0% { --shimmer-angle: 0deg; }
  100% { --shimmer-angle: 360deg; }
}

/* Shimmer border - use on hero/featured elements only */
.shimmer-border {
  position: relative;
  border-radius: 1rem; /* 16px */
  overflow: hidden; /* Contain the pseudo-element */
}

.shimmer-border::before {
  content: "";
  position: absolute;
  inset: -2px; /* Expands outside the element */
  border-radius: calc(1rem + 2px);
  background: conic-gradient(
    from var(--shimmer-angle),
    hsl(var(--primary)) 0%,
    transparent 12%,
    transparent 88%,
    hsl(var(--primary)) 100%
  );
  z-index: -1;
  animation: shimmer-rotate var(--duration-shimmer, 1.5s) linear infinite;
  animation-delay: var(--delay-shimmer, 3s);
  /* GPU acceleration */
  will-change: transform;
  transform: translateZ(0);
}

/* Inner content background to cover gradient center */
.shimmer-border::after {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: calc(1rem - 1px);
  background: hsl(var(--card));
  z-index: -1;
}

/* Reduced motion: disable shimmer completely per CONTEXT.md */
@media (prefers-reduced-motion: reduce) {
  .shimmer-border::before {
    animation: none !important;
    background: hsl(var(--primary) / 0.2); /* Static subtle border */
  }
}

/* Safari fallback for @property (pre-15.4) */
@supports not (font: -apple-system-body) {
  .shimmer-border::before {
    background: linear-gradient(
      135deg,
      hsl(var(--primary) / 0.3),
      transparent 50%,
      hsl(var(--primary) / 0.3)
    );
    animation: none; /* Static gradient for old browsers */
  }
}
```

Do NOT modify existing CSS. Add as a new section.
  </action>
  <verify>
Run `grep "@property --shimmer-angle" website/app/globals.css` - should return match.
Run `grep "shimmer-rotate" website/app/globals.css` - should return match.
Run `grep "shimmer-border::before" website/app/globals.css` - should return match.
  </verify>
  <done>
CSS @property, @keyframes, and .shimmer-border class exist in globals.css with reduced motion and Safari fallbacks.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add ShimmerCard component to card.tsx</name>
  <files>website/components/ui/card.tsx</files>
  <action>
Add ShimmerCard component that applies the shimmer-border effect.

Location: After the GlassCard component, before CardHeader.

Add this component:
```typescript
// ===== ShimmerCard for hero/featured elements (MOTION-05) =====

interface ShimmerCardProps extends React.HTMLAttributes<HTMLDivElement> {
  /** Disable shimmer animation (useful for reduced motion override) */
  noShimmer?: boolean;
}

const ShimmerCard = React.forwardRef<HTMLDivElement, ShimmerCardProps>(
  ({ className, noShimmer = false, children, ...props }, ref) => (
    <div
      ref={ref}
      className={cn(
        "rounded-2xl p-8",
        "bg-card text-card-foreground",
        // Shimmer border effect (hero cards only per CONTEXT.md)
        !noShimmer && "shimmer-border",
        className
      )}
      {...props}
    >
      {children}
    </div>
  )
);
ShimmerCard.displayName = "ShimmerCard";
```

Also add ShimmerCard to the exports at the bottom of the file:
```typescript
export {
  Card,
  AnimatedCard,
  GradientBorderCard,
  HighlightedCard,
  GlassCard,
  ShimmerCard, // ADD THIS
  CardHeader,
  CardFooter,
  CardTitle,
  CardDescription,
  CardContent,
};
```

Do NOT modify any existing components.
  </action>
  <verify>
Run `grep "ShimmerCard" website/components/ui/card.tsx` - should show component and export.
TypeScript: `npx tsc --noEmit website/components/ui/card.tsx` should pass.
  </verify>
  <done>
ShimmerCard component exists and is exported from card.tsx with noShimmer prop for disabling.
  </done>
</task>

</tasks>

<verification>
1. CSS animation works: Open dev tools, inspect .shimmer-border::before, verify animation property
2. Component exists: `grep "export.*ShimmerCard" website/components/ui/card.tsx` returns match
3. Build passes: `cd website && npm run build` completes without errors
4. Reduced motion check: Enable "Reduce motion" in OS, verify shimmer is static
</verification>

<success_criteria>
- [ ] @property --shimmer-angle defined in globals.css
- [ ] @keyframes shimmer-rotate animation exists
- [ ] .shimmer-border class with ::before and ::after pseudo-elements
- [ ] Reduced motion fallback disables animation
- [ ] ShimmerCard component exported from card.tsx
- [ ] Build passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/31-motion-accessibility/31-02-SUMMARY.md`
</output>
