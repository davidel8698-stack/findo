/* ==========================================================================
   Text Journey Section — CSS Module

   Apple-quality scroll-reveal for Hebrew display text.
   Background: #050506 | RTL | Heebo font | 5 emotional blocks

   Architecture:
   - .section: full-width dark container
   - .block: individual text group, animated via .visible class
   - .line: <p> element with display typography
   - .resolution: variant class for final dramatic block

   Animation strategy:
   - JS adds/removes .visible class based on scroll position
   - CSS transitions handle the visual change
   - No JS-driven inline styles for animation properties
   ========================================================================== */

/* --------------------------------------------------------------------------
   Section Container
   -------------------------------------------------------------------------- */

.section {
  direction: rtl;
  background: #050506;
  width: 100%;
  padding: 200px 24px;
  position: relative;
}

/* --------------------------------------------------------------------------
   Block — Individual Text Group

   Each block is a "scene" in the scroll narrative.
   Transitions are class-driven: .block → .block.visible

   Apple timing: 0.7s ease-out is the signature curve for content reveals.
   translateY(20px) is subtle — enough to feel directional, not enough to
   feel like a "slide in" animation from a WordPress theme.
   Blur of 2px adds depth without making text illegible during transition.
   -------------------------------------------------------------------------- */

.block {
  text-align: center;
  max-width: 900px;
  margin: 0 auto 180px;

  /* Initial state: invisible, slightly below, subtly blurred */
  opacity: 0;
  transform: translateY(20px);
  filter: blur(2px);

  /* Transition all three properties together for cohesive reveal */
  transition:
    opacity 0.7s ease-out,
    transform 0.7s ease-out,
    filter 0.7s ease-out;

  /* GPU compositing hint — only set here, not on children */
  will-change: opacity, transform, filter;
}

.block:last-child {
  margin-bottom: 100px;
}

/* Visible state: toggled by scroll JS */
.visible {
  opacity: 1;
  transform: translateY(0);
  filter: blur(0);
}

/* --------------------------------------------------------------------------
   Line — <p> Element with Display Typography

   Values from TYPOGRAPHY-SPEC.md:
   - font-size: clamp(48px, 4.2vw, 58px)  — large, confident
   - line-height: 1.2                       — tight for Hebrew display
   - letter-spacing: -0.02em                — tightens Hebrew at display sizes
   - font-weight: 500                       — Heebo Medium (matches SF Pro Medium)
   - color: #fefffe                         — text-primary from design system

   No word-level styling. Lines are plain <p> elements.
   font-family is inherited from the section/body (Heebo via CSS variable).
   -------------------------------------------------------------------------- */

.line {
  color: var(--text-primary, #fefffe);
  font-size: clamp(48px, 4.2vw, 58px);
  font-weight: 500;
  line-height: 1.2;
  letter-spacing: -0.02em;
  text-align: center;
  margin: 0;
  padding: 4px 0;
  display: block;
}

/* --------------------------------------------------------------------------
   Resolution — Final Dramatic Block

   Larger, bolder typography for emotional climax.
   Uses weight 700 and tighter tracking instead of gradients or glow.
   The size increase alone creates the "payoff" moment.

   Values from TYPOGRAPHY-SPEC.md Section 3:
   - font-size: clamp(56px, 7vw, 88px)
   - font-weight: 700
   - line-height: 1.1
   - letter-spacing: -0.03em
   - margin-top: 280px (dramatic pause before reveal)
   -------------------------------------------------------------------------- */

.resolution {
  margin-top: 280px;
  margin-bottom: 100px;
}

.resolution .line {
  font-size: clamp(56px, 7vw, 88px);
  font-weight: 700;
  line-height: 1.1;
  letter-spacing: -0.03em;
}

/* ==========================================================================
   Responsive Breakpoints

   Breakpoints match TYPOGRAPHY-SPEC.md exactly:
   - Tablet:       max-width: 1199px
   - Mobile:       max-width: 767px
   - Small mobile: max-width: 480px
   ========================================================================== */

/* --------------------------------------------------------------------------
   Tablet (768px - 1199px)
   -------------------------------------------------------------------------- */

@media (max-width: 1199px) {
  .section {
    padding: 160px 24px;
  }

  .block {
    max-width: 800px;
    margin-bottom: 150px;
  }

  .line {
    font-size: clamp(36px, 5.5vw, 48px);
    line-height: 1.25;
  }

  .resolution {
    margin-top: 220px;
  }

  .resolution .line {
    font-size: clamp(44px, 8vw, 64px);
    line-height: 1.12;
    letter-spacing: -0.025em;
  }
}

/* --------------------------------------------------------------------------
   Mobile (481px - 767px)
   -------------------------------------------------------------------------- */

@media (max-width: 767px) {
  .section {
    padding: 120px 20px;
  }

  .block {
    max-width: 100%;
    margin-bottom: 120px;
  }

  .line {
    font-size: clamp(28px, 7vw, 40px);
    line-height: 1.3;
    letter-spacing: -0.015em;
  }

  .resolution {
    margin-top: 180px;
  }

  .resolution .line {
    font-size: clamp(36px, 10vw, 52px);
    line-height: 1.15;
    letter-spacing: -0.02em;
  }
}

/* --------------------------------------------------------------------------
   Small Mobile (<=480px)
   -------------------------------------------------------------------------- */

@media (max-width: 480px) {
  .section {
    padding: 100px 16px;
  }

  .block {
    margin-bottom: 100px;
  }

  .line {
    font-size: clamp(24px, 7.5vw, 34px);
    line-height: 1.35;
    letter-spacing: -0.01em;
  }

  .resolution {
    margin-top: 140px;
  }

  .resolution .line {
    font-size: clamp(30px, 10vw, 44px);
    line-height: 1.18;
    letter-spacing: -0.02em;
  }
}

/* ==========================================================================
   Reduced Motion

   Users who prefer reduced motion see all blocks immediately.
   No transitions, no transforms, no blur. Content is fully visible.
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {
  .block {
    opacity: 1;
    transform: none;
    filter: none;
    transition: none;
    will-change: auto;
  }
}
